import {
  C,
  H,
  JsonRpcProvider,
  M,
  On,
  S,
  Ze,
  esm_exports,
  formatJsonRpcError,
  isHttpUrl,
  parseConnectionError,
  require_cjs2 as require_cjs,
  safeJsonParse,
  safeJsonStringify,
  te,
  te2,
  w
} from "./chunk-CHPU2TW3.js";
import "./chunk-FXQXP55Z.js";
import "./chunk-EB7ICFFI.js";
import {
  require_events
} from "./chunk-O4FGIR7N.js";
import {
  require_browser_ponyfill
} from "./chunk-U3QWHMKJ.js";
import "./chunk-Z5ONN35Q.js";
import "./chunk-R2EUP4JQ.js";
import {
  _global,
  init_shim
} from "./chunk-TAEM2Y7A.js";
import {
  __toESM
} from "./chunk-IKJM6GHQ.js";

// node_modules/@walletconnect/ethereum-provider/dist/index.es.js
init_shim();
var import_events3 = __toESM(require_events());

// node_modules/@walletconnect/universal-provider/dist/index.es.js
init_shim();
var import_logger = __toESM(require_cjs());

// node_modules/@walletconnect/jsonrpc-http-connection/dist/esm/index.js
init_shim();

// node_modules/@walletconnect/jsonrpc-http-connection/dist/esm/http.js
init_shim();
var import_events = __toESM(require_events());
var import_cross_fetch = __toESM(require_browser_ponyfill());
var DEFAULT_HTTP_HEADERS = {
  Accept: "application/json",
  "Content-Type": "application/json"
};
var DEFAULT_HTTP_METHOD = "POST";
var DEFAULT_FETCH_OPTS = {
  headers: DEFAULT_HTTP_HEADERS,
  method: DEFAULT_HTTP_METHOD
};
var EVENT_EMITTER_MAX_LISTENERS_DEFAULT = 10;
var HttpConnection = class {
  constructor(url, disableProviderPing = false) {
    this.url = url;
    this.disableProviderPing = disableProviderPing;
    this.events = new import_events.EventEmitter();
    this.isAvailable = false;
    this.registering = false;
    if (!isHttpUrl(url)) {
      throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);
    }
    this.url = url;
    this.disableProviderPing = disableProviderPing;
  }
  get connected() {
    return this.isAvailable;
  }
  get connecting() {
    return this.registering;
  }
  on(event, listener) {
    this.events.on(event, listener);
  }
  once(event, listener) {
    this.events.once(event, listener);
  }
  off(event, listener) {
    this.events.off(event, listener);
  }
  removeListener(event, listener) {
    this.events.removeListener(event, listener);
  }
  async open(url = this.url) {
    await this.register(url);
  }
  async close() {
    if (!this.isAvailable) {
      throw new Error("Connection already closed");
    }
    this.onClose();
  }
  async send(payload, context) {
    if (!this.isAvailable) {
      await this.register();
    }
    try {
      const body = safeJsonStringify(payload);
      const res = await (0, import_cross_fetch.default)(this.url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));
      const data = await res.json();
      this.onPayload({ data });
    } catch (e) {
      this.onError(payload.id, e);
    }
  }
  async register(url = this.url) {
    if (!isHttpUrl(url)) {
      throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);
    }
    if (this.registering) {
      const currentMaxListeners = this.events.getMaxListeners();
      if (this.events.listenerCount("register_error") >= currentMaxListeners || this.events.listenerCount("open") >= currentMaxListeners) {
        this.events.setMaxListeners(currentMaxListeners + 1);
      }
      return new Promise((resolve, reject) => {
        this.events.once("register_error", (error) => {
          this.resetMaxListeners();
          reject(error);
        });
        this.events.once("open", () => {
          this.resetMaxListeners();
          if (typeof this.isAvailable === "undefined") {
            return reject(new Error("HTTP connection is missing or invalid"));
          }
          resolve();
        });
      });
    }
    this.url = url;
    this.registering = true;
    try {
      if (!this.disableProviderPing) {
        const body = safeJsonStringify({ id: 1, jsonrpc: "2.0", method: "test", params: [] });
        await (0, import_cross_fetch.default)(url, Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS), { body }));
      }
      this.onOpen();
    } catch (e) {
      const error = this.parseError(e);
      this.events.emit("register_error", error);
      this.onClose();
      throw error;
    }
  }
  onOpen() {
    this.isAvailable = true;
    this.registering = false;
    this.events.emit("open");
  }
  onClose() {
    this.isAvailable = false;
    this.registering = false;
    this.events.emit("close");
  }
  onPayload(e) {
    if (typeof e.data === "undefined")
      return;
    const payload = typeof e.data === "string" ? safeJsonParse(e.data) : e.data;
    this.events.emit("payload", payload);
  }
  onError(id, e) {
    const error = this.parseError(e);
    const message = error.message || error.toString();
    const payload = formatJsonRpcError(id, message);
    this.events.emit("payload", payload);
  }
  parseError(e, url = this.url) {
    return parseConnectionError(e, url, "HTTP");
  }
  resetMaxListeners() {
    if (this.events.getMaxListeners() > EVENT_EMITTER_MAX_LISTENERS_DEFAULT) {
      this.events.setMaxListeners(EVENT_EMITTER_MAX_LISTENERS_DEFAULT);
    }
  }
};
var http_default = HttpConnection;

// node_modules/@walletconnect/jsonrpc-http-connection/dist/esm/index.js
var esm_default = http_default;

// node_modules/@walletconnect/universal-provider/dist/index.es.js
var import_events2 = __toESM(require_events());
var Ca = "error";
var Hg = "wss://relay.walletconnect.com";
var $g = "wc";
var Ug = "universal_provider";
var Ia = `${$g}@2:${Ug}:`;
var Wg = "https://rpc.walletconnect.com/v1";
var ot = { DEFAULT_CHAIN_CHANGED: "default_chain_changed" };
var pe = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof _global < "u" ? _global : typeof self < "u" ? self : {};
var $i = { exports: {} };
(function(C2, u2) {
  (function() {
    var i, p2 = "4.17.21", I = 200, D2 = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", F = "Expected a function", Fn = "Invalid `variable` option passed into `_.template`", Gt = "__lodash_hash_undefined__", lr = 500, At = "__lodash_placeholder__", Ln = 1, Mn = 2, Ct = 4, It = 1, de = 2, vn = 1, ft = 2, Mi = 4, Dn = 8, xt = 16, Nn = 32, Et = 64, qn = 128, zt = 256, pr = 512, Ta = 30, La = "...", Da = 800, Na = 16, qi = 1, Ha = 2, $a = 3, ct = 1 / 0, kn = 9007199254740991, Ua = 17976931348623157e292, ge = 0 / 0, Hn = 4294967295, Wa = Hn - 1, Fa = Hn >>> 1, Ma = [["ary", qn], ["bind", vn], ["bindKey", ft], ["curry", Dn], ["curryRight", xt], ["flip", pr], ["partial", Nn], ["partialRight", Et], ["rearg", zt]], yt = "[object Arguments]", ve = "[object Array]", qa = "[object AsyncFunction]", Kt = "[object Boolean]", Yt = "[object Date]", Ba = "[object DOMException]", _e = "[object Error]", me = "[object Function]", Bi = "[object GeneratorFunction]", yn = "[object Map]", Zt = "[object Number]", Ga = "[object Null]", Bn = "[object Object]", Gi = "[object Promise]", za = "[object Proxy]", Jt = "[object RegExp]", Sn = "[object Set]", Xt = "[object String]", we = "[object Symbol]", Ka = "[object Undefined]", Qt = "[object WeakMap]", Ya = "[object WeakSet]", Vt = "[object ArrayBuffer]", St = "[object DataView]", dr = "[object Float32Array]", gr = "[object Float64Array]", vr = "[object Int8Array]", _r = "[object Int16Array]", mr = "[object Int32Array]", wr = "[object Uint8Array]", Pr = "[object Uint8ClampedArray]", Ar = "[object Uint16Array]", Cr = "[object Uint32Array]", Za = /\b__p \+= '';/g, Ja = /\b(__p \+=) '' \+/g, Xa = /(__e\(.*?\)|\b__t\)) \+\n'';/g, zi = /&(?:amp|lt|gt|quot|#39);/g, Ki = /[&<>"']/g, Qa = RegExp(zi.source), Va = RegExp(Ki.source), ka = /<%-([\s\S]+?)%>/g, ja = /<%([\s\S]+?)%>/g, Yi = /<%=([\s\S]+?)%>/g, no = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, to = /^\w*$/, eo = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Ir = /[\\^$.*+?()[\]{}|]/g, ro = RegExp(Ir.source), xr = /^\s+/, io = /\s/, so = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, uo = /\{\n\/\* \[wrapped with (.+)\] \*/, ao = /,? & /, oo = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, fo = /[()=,{}\[\]\/\s]/, co = /\\(\\)?/g, ho = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Zi = /\w*$/, lo = /^[-+]0x[0-9a-f]+$/i, po = /^0b[01]+$/i, go = /^\[object .+?Constructor\]$/, vo = /^0o[0-7]+$/i, _o = /^(?:0|[1-9]\d*)$/, mo = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, Pe = /($^)/, wo = /['\n\r\u2028\u2029\\]/g, Ae = "\\ud800-\\udfff", Po = "\\u0300-\\u036f", Ao = "\\ufe20-\\ufe2f", Co = "\\u20d0-\\u20ff", Ji = Po + Ao + Co, Xi = "\\u2700-\\u27bf", Qi = "a-z\\xdf-\\xf6\\xf8-\\xff", Io = "\\xac\\xb1\\xd7\\xf7", xo = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", Eo = "\\u2000-\\u206f", yo = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", Vi = "A-Z\\xc0-\\xd6\\xd8-\\xde", ki = "\\ufe0e\\ufe0f", ji = Io + xo + Eo + yo, Er = "['\u2019]", So = "[" + Ae + "]", ns = "[" + ji + "]", Ce = "[" + Ji + "]", ts = "\\d+", Oo = "[" + Xi + "]", es = "[" + Qi + "]", rs = "[^" + Ae + ji + ts + Xi + Qi + Vi + "]", yr = "\\ud83c[\\udffb-\\udfff]", Ro = "(?:" + Ce + "|" + yr + ")", is = "[^" + Ae + "]", Sr = "(?:\\ud83c[\\udde6-\\uddff]){2}", Or = "[\\ud800-\\udbff][\\udc00-\\udfff]", Ot = "[" + Vi + "]", ss = "\\u200d", us = "(?:" + es + "|" + rs + ")", bo = "(?:" + Ot + "|" + rs + ")", as = "(?:" + Er + "(?:d|ll|m|re|s|t|ve))?", os = "(?:" + Er + "(?:D|LL|M|RE|S|T|VE))?", fs = Ro + "?", cs = "[" + ki + "]?", To = "(?:" + ss + "(?:" + [is, Sr, Or].join("|") + ")" + cs + fs + ")*", Lo = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", Do = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", hs = cs + fs + To, No = "(?:" + [Oo, Sr, Or].join("|") + ")" + hs, Ho = "(?:" + [is + Ce + "?", Ce, Sr, Or, So].join("|") + ")", $o = RegExp(Er, "g"), Uo = RegExp(Ce, "g"), Rr = RegExp(yr + "(?=" + yr + ")|" + Ho + hs, "g"), Wo = RegExp([Ot + "?" + es + "+" + as + "(?=" + [ns, Ot, "$"].join("|") + ")", bo + "+" + os + "(?=" + [ns, Ot + us, "$"].join("|") + ")", Ot + "?" + us + "+" + as, Ot + "+" + os, Do, Lo, ts, No].join("|"), "g"), Fo = RegExp("[" + ss + Ae + Ji + ki + "]"), Mo = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, qo = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], Bo = -1, B = {};
    B[dr] = B[gr] = B[vr] = B[_r] = B[mr] = B[wr] = B[Pr] = B[Ar] = B[Cr] = true, B[yt] = B[ve] = B[Vt] = B[Kt] = B[St] = B[Yt] = B[_e] = B[me] = B[yn] = B[Zt] = B[Bn] = B[Jt] = B[Sn] = B[Xt] = B[Qt] = false;
    var q2 = {};
    q2[yt] = q2[ve] = q2[Vt] = q2[St] = q2[Kt] = q2[Yt] = q2[dr] = q2[gr] = q2[vr] = q2[_r] = q2[mr] = q2[yn] = q2[Zt] = q2[Bn] = q2[Jt] = q2[Sn] = q2[Xt] = q2[we] = q2[wr] = q2[Pr] = q2[Ar] = q2[Cr] = true, q2[_e] = q2[me] = q2[Qt] = false;
    var Go = { \u00C0: "A", \u00C1: "A", \u00C2: "A", \u00C3: "A", \u00C4: "A", \u00C5: "A", \u00E0: "a", \u00E1: "a", \u00E2: "a", \u00E3: "a", \u00E4: "a", \u00E5: "a", \u00C7: "C", \u00E7: "c", \u00D0: "D", \u00F0: "d", \u00C8: "E", \u00C9: "E", \u00CA: "E", \u00CB: "E", \u00E8: "e", \u00E9: "e", \u00EA: "e", \u00EB: "e", \u00CC: "I", \u00CD: "I", \u00CE: "I", \u00CF: "I", \u00EC: "i", \u00ED: "i", \u00EE: "i", \u00EF: "i", \u00D1: "N", \u00F1: "n", \u00D2: "O", \u00D3: "O", \u00D4: "O", \u00D5: "O", \u00D6: "O", \u00D8: "O", \u00F2: "o", \u00F3: "o", \u00F4: "o", \u00F5: "o", \u00F6: "o", \u00F8: "o", \u00D9: "U", \u00DA: "U", \u00DB: "U", \u00DC: "U", \u00F9: "u", \u00FA: "u", \u00FB: "u", \u00FC: "u", \u00DD: "Y", \u00FD: "y", \u00FF: "y", \u00C6: "Ae", \u00E6: "ae", \u00DE: "Th", \u00FE: "th", \u00DF: "ss", \u0100: "A", \u0102: "A", \u0104: "A", \u0101: "a", \u0103: "a", \u0105: "a", \u0106: "C", \u0108: "C", \u010A: "C", \u010C: "C", \u0107: "c", \u0109: "c", \u010B: "c", \u010D: "c", \u010E: "D", \u0110: "D", \u010F: "d", \u0111: "d", \u0112: "E", \u0114: "E", \u0116: "E", \u0118: "E", \u011A: "E", \u0113: "e", \u0115: "e", \u0117: "e", \u0119: "e", \u011B: "e", \u011C: "G", \u011E: "G", \u0120: "G", \u0122: "G", \u011D: "g", \u011F: "g", \u0121: "g", \u0123: "g", \u0124: "H", \u0126: "H", \u0125: "h", \u0127: "h", \u0128: "I", \u012A: "I", \u012C: "I", \u012E: "I", \u0130: "I", \u0129: "i", \u012B: "i", \u012D: "i", \u012F: "i", \u0131: "i", \u0134: "J", \u0135: "j", \u0136: "K", \u0137: "k", \u0138: "k", \u0139: "L", \u013B: "L", \u013D: "L", \u013F: "L", \u0141: "L", \u013A: "l", \u013C: "l", \u013E: "l", \u0140: "l", \u0142: "l", \u0143: "N", \u0145: "N", \u0147: "N", \u014A: "N", \u0144: "n", \u0146: "n", \u0148: "n", \u014B: "n", \u014C: "O", \u014E: "O", \u0150: "O", \u014D: "o", \u014F: "o", \u0151: "o", \u0154: "R", \u0156: "R", \u0158: "R", \u0155: "r", \u0157: "r", \u0159: "r", \u015A: "S", \u015C: "S", \u015E: "S", \u0160: "S", \u015B: "s", \u015D: "s", \u015F: "s", \u0161: "s", \u0162: "T", \u0164: "T", \u0166: "T", \u0163: "t", \u0165: "t", \u0167: "t", \u0168: "U", \u016A: "U", \u016C: "U", \u016E: "U", \u0170: "U", \u0172: "U", \u0169: "u", \u016B: "u", \u016D: "u", \u016F: "u", \u0171: "u", \u0173: "u", \u0174: "W", \u0175: "w", \u0176: "Y", \u0177: "y", \u0178: "Y", \u0179: "Z", \u017B: "Z", \u017D: "Z", \u017A: "z", \u017C: "z", \u017E: "z", \u0132: "IJ", \u0133: "ij", \u0152: "Oe", \u0153: "oe", \u0149: "'n", \u017F: "s" }, zo = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, Ko = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'" }, Yo = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" }, Zo = parseFloat, Jo = parseInt, ls = typeof pe == "object" && pe && pe.Object === Object && pe, Xo = typeof self == "object" && self && self.Object === Object && self, k = ls || Xo || Function("return this")(), br = u2 && !u2.nodeType && u2, ht = br && true && C2 && !C2.nodeType && C2, ps = ht && ht.exports === br, Tr = ps && ls.process, _n = function() {
      try {
        var h = ht && ht.require && ht.require("util").types;
        return h || Tr && Tr.binding && Tr.binding("util");
      } catch {
      }
    }(), ds = _n && _n.isArrayBuffer, gs = _n && _n.isDate, vs = _n && _n.isMap, _s = _n && _n.isRegExp, ms = _n && _n.isSet, ws = _n && _n.isTypedArray;
    function cn(h, g2, d) {
      switch (d.length) {
        case 0:
          return h.call(g2);
        case 1:
          return h.call(g2, d[0]);
        case 2:
          return h.call(g2, d[0], d[1]);
        case 3:
          return h.call(g2, d[0], d[1], d[2]);
      }
      return h.apply(g2, d);
    }
    function Qo(h, g2, d, P2) {
      for (var S3 = -1, $2 = h == null ? 0 : h.length; ++S3 < $2; ) {
        var X = h[S3];
        g2(P2, X, d(X), h);
      }
      return P2;
    }
    function mn(h, g2) {
      for (var d = -1, P2 = h == null ? 0 : h.length; ++d < P2 && g2(h[d], d, h) !== false; )
        ;
      return h;
    }
    function Vo(h, g2) {
      for (var d = h == null ? 0 : h.length; d-- && g2(h[d], d, h) !== false; )
        ;
      return h;
    }
    function Ps(h, g2) {
      for (var d = -1, P2 = h == null ? 0 : h.length; ++d < P2; )
        if (!g2(h[d], d, h))
          return false;
      return true;
    }
    function jn(h, g2) {
      for (var d = -1, P2 = h == null ? 0 : h.length, S3 = 0, $2 = []; ++d < P2; ) {
        var X = h[d];
        g2(X, d, h) && ($2[S3++] = X);
      }
      return $2;
    }
    function Ie(h, g2) {
      var d = h == null ? 0 : h.length;
      return !!d && Rt(h, g2, 0) > -1;
    }
    function Lr(h, g2, d) {
      for (var P2 = -1, S3 = h == null ? 0 : h.length; ++P2 < S3; )
        if (d(g2, h[P2]))
          return true;
      return false;
    }
    function G2(h, g2) {
      for (var d = -1, P2 = h == null ? 0 : h.length, S3 = Array(P2); ++d < P2; )
        S3[d] = g2(h[d], d, h);
      return S3;
    }
    function nt(h, g2) {
      for (var d = -1, P2 = g2.length, S3 = h.length; ++d < P2; )
        h[S3 + d] = g2[d];
      return h;
    }
    function Dr(h, g2, d, P2) {
      var S3 = -1, $2 = h == null ? 0 : h.length;
      for (P2 && $2 && (d = h[++S3]); ++S3 < $2; )
        d = g2(d, h[S3], S3, h);
      return d;
    }
    function ko(h, g2, d, P2) {
      var S3 = h == null ? 0 : h.length;
      for (P2 && S3 && (d = h[--S3]); S3--; )
        d = g2(d, h[S3], S3, h);
      return d;
    }
    function Nr(h, g2) {
      for (var d = -1, P2 = h == null ? 0 : h.length; ++d < P2; )
        if (g2(h[d], d, h))
          return true;
      return false;
    }
    var jo = Hr("length");
    function nf(h) {
      return h.split("");
    }
    function tf(h) {
      return h.match(oo) || [];
    }
    function As(h, g2, d) {
      var P2;
      return d(h, function(S3, $2, X) {
        if (g2(S3, $2, X))
          return P2 = $2, false;
      }), P2;
    }
    function xe(h, g2, d, P2) {
      for (var S3 = h.length, $2 = d + (P2 ? 1 : -1); P2 ? $2-- : ++$2 < S3; )
        if (g2(h[$2], $2, h))
          return $2;
      return -1;
    }
    function Rt(h, g2, d) {
      return g2 === g2 ? df(h, g2, d) : xe(h, Cs, d);
    }
    function ef(h, g2, d, P2) {
      for (var S3 = d - 1, $2 = h.length; ++S3 < $2; )
        if (P2(h[S3], g2))
          return S3;
      return -1;
    }
    function Cs(h) {
      return h !== h;
    }
    function Is(h, g2) {
      var d = h == null ? 0 : h.length;
      return d ? Ur(h, g2) / d : ge;
    }
    function Hr(h) {
      return function(g2) {
        return g2 == null ? i : g2[h];
      };
    }
    function $r(h) {
      return function(g2) {
        return h == null ? i : h[g2];
      };
    }
    function xs(h, g2, d, P2, S3) {
      return S3(h, function($2, X, M3) {
        d = P2 ? (P2 = false, $2) : g2(d, $2, X, M3);
      }), d;
    }
    function rf(h, g2) {
      var d = h.length;
      for (h.sort(g2); d--; )
        h[d] = h[d].value;
      return h;
    }
    function Ur(h, g2) {
      for (var d, P2 = -1, S3 = h.length; ++P2 < S3; ) {
        var $2 = g2(h[P2]);
        $2 !== i && (d = d === i ? $2 : d + $2);
      }
      return d;
    }
    function Wr(h, g2) {
      for (var d = -1, P2 = Array(h); ++d < h; )
        P2[d] = g2(d);
      return P2;
    }
    function sf(h, g2) {
      return G2(g2, function(d) {
        return [d, h[d]];
      });
    }
    function Es(h) {
      return h && h.slice(0, Rs(h) + 1).replace(xr, "");
    }
    function hn(h) {
      return function(g2) {
        return h(g2);
      };
    }
    function Fr(h, g2) {
      return G2(g2, function(d) {
        return h[d];
      });
    }
    function kt(h, g2) {
      return h.has(g2);
    }
    function ys(h, g2) {
      for (var d = -1, P2 = h.length; ++d < P2 && Rt(g2, h[d], 0) > -1; )
        ;
      return d;
    }
    function Ss(h, g2) {
      for (var d = h.length; d-- && Rt(g2, h[d], 0) > -1; )
        ;
      return d;
    }
    function uf(h, g2) {
      for (var d = h.length, P2 = 0; d--; )
        h[d] === g2 && ++P2;
      return P2;
    }
    var af = $r(Go), of = $r(zo);
    function ff(h) {
      return "\\" + Yo[h];
    }
    function cf(h, g2) {
      return h == null ? i : h[g2];
    }
    function bt(h) {
      return Fo.test(h);
    }
    function hf(h) {
      return Mo.test(h);
    }
    function lf(h) {
      for (var g2, d = []; !(g2 = h.next()).done; )
        d.push(g2.value);
      return d;
    }
    function Mr(h) {
      var g2 = -1, d = Array(h.size);
      return h.forEach(function(P2, S3) {
        d[++g2] = [S3, P2];
      }), d;
    }
    function Os(h, g2) {
      return function(d) {
        return h(g2(d));
      };
    }
    function tt(h, g2) {
      for (var d = -1, P2 = h.length, S3 = 0, $2 = []; ++d < P2; ) {
        var X = h[d];
        (X === g2 || X === At) && (h[d] = At, $2[S3++] = d);
      }
      return $2;
    }
    function Ee(h) {
      var g2 = -1, d = Array(h.size);
      return h.forEach(function(P2) {
        d[++g2] = P2;
      }), d;
    }
    function pf(h) {
      var g2 = -1, d = Array(h.size);
      return h.forEach(function(P2) {
        d[++g2] = [P2, P2];
      }), d;
    }
    function df(h, g2, d) {
      for (var P2 = d - 1, S3 = h.length; ++P2 < S3; )
        if (h[P2] === g2)
          return P2;
      return -1;
    }
    function gf(h, g2, d) {
      for (var P2 = d + 1; P2--; )
        if (h[P2] === g2)
          return P2;
      return P2;
    }
    function Tt(h) {
      return bt(h) ? _f(h) : jo(h);
    }
    function On2(h) {
      return bt(h) ? mf(h) : nf(h);
    }
    function Rs(h) {
      for (var g2 = h.length; g2-- && io.test(h.charAt(g2)); )
        ;
      return g2;
    }
    var vf = $r(Ko);
    function _f(h) {
      for (var g2 = Rr.lastIndex = 0; Rr.test(h); )
        ++g2;
      return g2;
    }
    function mf(h) {
      return h.match(Rr) || [];
    }
    function wf(h) {
      return h.match(Wo) || [];
    }
    var Pf = function h(g2) {
      g2 = g2 == null ? k : Lt.defaults(k.Object(), g2, Lt.pick(k, qo));
      var d = g2.Array, P2 = g2.Date, S3 = g2.Error, $2 = g2.Function, X = g2.Math, M3 = g2.Object, qr = g2.RegExp, Af = g2.String, wn = g2.TypeError, ye = d.prototype, Cf = $2.prototype, Dt = M3.prototype, Se = g2["__core-js_shared__"], Oe = Cf.toString, W = Dt.hasOwnProperty, If = 0, bs = function() {
        var n = /[^.]+$/.exec(Se && Se.keys && Se.keys.IE_PROTO || "");
        return n ? "Symbol(src)_1." + n : "";
      }(), Re = Dt.toString, xf = Oe.call(M3), Ef = k._, yf = qr("^" + Oe.call(W).replace(Ir, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), be = ps ? g2.Buffer : i, et = g2.Symbol, Te = g2.Uint8Array, Ts = be ? be.allocUnsafe : i, Le = Os(M3.getPrototypeOf, M3), Ls = M3.create, Ds = Dt.propertyIsEnumerable, De = ye.splice, Ns = et ? et.isConcatSpreadable : i, jt = et ? et.iterator : i, lt = et ? et.toStringTag : i, Ne = function() {
        try {
          var n = _t(M3, "defineProperty");
          return n({}, "", {}), n;
        } catch {
        }
      }(), Sf = g2.clearTimeout !== k.clearTimeout && g2.clearTimeout, Of = P2 && P2.now !== k.Date.now && P2.now, Rf = g2.setTimeout !== k.setTimeout && g2.setTimeout, He = X.ceil, $e = X.floor, Br = M3.getOwnPropertySymbols, bf = be ? be.isBuffer : i, Hs = g2.isFinite, Tf = ye.join, Lf = Os(M3.keys, M3), Q2 = X.max, nn = X.min, Df = P2.now, Nf = g2.parseInt, $s = X.random, Hf = ye.reverse, Gr = _t(g2, "DataView"), ne = _t(g2, "Map"), zr = _t(g2, "Promise"), Nt = _t(g2, "Set"), te3 = _t(g2, "WeakMap"), ee = _t(M3, "create"), Ue = te3 && new te3(), Ht = {}, $f = mt(Gr), Uf = mt(ne), Wf = mt(zr), Ff = mt(Nt), Mf = mt(te3), We = et ? et.prototype : i, re = We ? We.valueOf : i, Us = We ? We.toString : i;
      function a(n) {
        if (K(n) && !O2(n) && !(n instanceof N2)) {
          if (n instanceof Pn)
            return n;
          if (W.call(n, "__wrapped__"))
            return Wu(n);
        }
        return new Pn(n);
      }
      var $t = function() {
        function n() {
        }
        return function(t) {
          if (!z(t))
            return {};
          if (Ls)
            return Ls(t);
          n.prototype = t;
          var e = new n();
          return n.prototype = i, e;
        };
      }();
      function Fe() {
      }
      function Pn(n, t) {
        this.__wrapped__ = n, this.__actions__ = [], this.__chain__ = !!t, this.__index__ = 0, this.__values__ = i;
      }
      a.templateSettings = { escape: ka, evaluate: ja, interpolate: Yi, variable: "", imports: { _: a } }, a.prototype = Fe.prototype, a.prototype.constructor = a, Pn.prototype = $t(Fe.prototype), Pn.prototype.constructor = Pn;
      function N2(n) {
        this.__wrapped__ = n, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = false, this.__iteratees__ = [], this.__takeCount__ = Hn, this.__views__ = [];
      }
      function qf() {
        var n = new N2(this.__wrapped__);
        return n.__actions__ = un(this.__actions__), n.__dir__ = this.__dir__, n.__filtered__ = this.__filtered__, n.__iteratees__ = un(this.__iteratees__), n.__takeCount__ = this.__takeCount__, n.__views__ = un(this.__views__), n;
      }
      function Bf() {
        if (this.__filtered__) {
          var n = new N2(this);
          n.__dir__ = -1, n.__filtered__ = true;
        } else
          n = this.clone(), n.__dir__ *= -1;
        return n;
      }
      function Gf() {
        var n = this.__wrapped__.value(), t = this.__dir__, e = O2(n), r = t < 0, s = e ? n.length : 0, o = th(0, s, this.__views__), f2 = o.start, c = o.end, l = c - f2, v2 = r ? c : f2 - 1, _2 = this.__iteratees__, m2 = _2.length, w2 = 0, A = nn(l, this.__takeCount__);
        if (!e || !r && s == l && A == l)
          return au(n, this.__actions__);
        var E2 = [];
        n:
          for (; l-- && w2 < A; ) {
            v2 += t;
            for (var b2 = -1, y2 = n[v2]; ++b2 < m2; ) {
              var L2 = _2[b2], H2 = L2.iteratee, dn = L2.type, sn = H2(y2);
              if (dn == Ha)
                y2 = sn;
              else if (!sn) {
                if (dn == qi)
                  continue n;
                break n;
              }
            }
            E2[w2++] = y2;
          }
        return E2;
      }
      N2.prototype = $t(Fe.prototype), N2.prototype.constructor = N2;
      function pt(n) {
        var t = -1, e = n == null ? 0 : n.length;
        for (this.clear(); ++t < e; ) {
          var r = n[t];
          this.set(r[0], r[1]);
        }
      }
      function zf() {
        this.__data__ = ee ? ee(null) : {}, this.size = 0;
      }
      function Kf(n) {
        var t = this.has(n) && delete this.__data__[n];
        return this.size -= t ? 1 : 0, t;
      }
      function Yf(n) {
        var t = this.__data__;
        if (ee) {
          var e = t[n];
          return e === Gt ? i : e;
        }
        return W.call(t, n) ? t[n] : i;
      }
      function Zf(n) {
        var t = this.__data__;
        return ee ? t[n] !== i : W.call(t, n);
      }
      function Jf(n, t) {
        var e = this.__data__;
        return this.size += this.has(n) ? 0 : 1, e[n] = ee && t === i ? Gt : t, this;
      }
      pt.prototype.clear = zf, pt.prototype.delete = Kf, pt.prototype.get = Yf, pt.prototype.has = Zf, pt.prototype.set = Jf;
      function Gn(n) {
        var t = -1, e = n == null ? 0 : n.length;
        for (this.clear(); ++t < e; ) {
          var r = n[t];
          this.set(r[0], r[1]);
        }
      }
      function Xf() {
        this.__data__ = [], this.size = 0;
      }
      function Qf(n) {
        var t = this.__data__, e = Me(t, n);
        if (e < 0)
          return false;
        var r = t.length - 1;
        return e == r ? t.pop() : De.call(t, e, 1), --this.size, true;
      }
      function Vf(n) {
        var t = this.__data__, e = Me(t, n);
        return e < 0 ? i : t[e][1];
      }
      function kf(n) {
        return Me(this.__data__, n) > -1;
      }
      function jf(n, t) {
        var e = this.__data__, r = Me(e, n);
        return r < 0 ? (++this.size, e.push([n, t])) : e[r][1] = t, this;
      }
      Gn.prototype.clear = Xf, Gn.prototype.delete = Qf, Gn.prototype.get = Vf, Gn.prototype.has = kf, Gn.prototype.set = jf;
      function zn(n) {
        var t = -1, e = n == null ? 0 : n.length;
        for (this.clear(); ++t < e; ) {
          var r = n[t];
          this.set(r[0], r[1]);
        }
      }
      function nc() {
        this.size = 0, this.__data__ = { hash: new pt(), map: new (ne || Gn)(), string: new pt() };
      }
      function tc(n) {
        var t = ke(this, n).delete(n);
        return this.size -= t ? 1 : 0, t;
      }
      function ec(n) {
        return ke(this, n).get(n);
      }
      function rc(n) {
        return ke(this, n).has(n);
      }
      function ic(n, t) {
        var e = ke(this, n), r = e.size;
        return e.set(n, t), this.size += e.size == r ? 0 : 1, this;
      }
      zn.prototype.clear = nc, zn.prototype.delete = tc, zn.prototype.get = ec, zn.prototype.has = rc, zn.prototype.set = ic;
      function dt(n) {
        var t = -1, e = n == null ? 0 : n.length;
        for (this.__data__ = new zn(); ++t < e; )
          this.add(n[t]);
      }
      function sc(n) {
        return this.__data__.set(n, Gt), this;
      }
      function uc(n) {
        return this.__data__.has(n);
      }
      dt.prototype.add = dt.prototype.push = sc, dt.prototype.has = uc;
      function Rn(n) {
        var t = this.__data__ = new Gn(n);
        this.size = t.size;
      }
      function ac() {
        this.__data__ = new Gn(), this.size = 0;
      }
      function oc(n) {
        var t = this.__data__, e = t.delete(n);
        return this.size = t.size, e;
      }
      function fc(n) {
        return this.__data__.get(n);
      }
      function cc(n) {
        return this.__data__.has(n);
      }
      function hc(n, t) {
        var e = this.__data__;
        if (e instanceof Gn) {
          var r = e.__data__;
          if (!ne || r.length < I - 1)
            return r.push([n, t]), this.size = ++e.size, this;
          e = this.__data__ = new zn(r);
        }
        return e.set(n, t), this.size = e.size, this;
      }
      Rn.prototype.clear = ac, Rn.prototype.delete = oc, Rn.prototype.get = fc, Rn.prototype.has = cc, Rn.prototype.set = hc;
      function Ws(n, t) {
        var e = O2(n), r = !e && wt(n), s = !e && !r && at(n), o = !e && !r && !s && Mt(n), f2 = e || r || s || o, c = f2 ? Wr(n.length, Af) : [], l = c.length;
        for (var v2 in n)
          (t || W.call(n, v2)) && !(f2 && (v2 == "length" || s && (v2 == "offset" || v2 == "parent") || o && (v2 == "buffer" || v2 == "byteLength" || v2 == "byteOffset") || Jn(v2, l))) && c.push(v2);
        return c;
      }
      function Fs(n) {
        var t = n.length;
        return t ? n[ti(0, t - 1)] : i;
      }
      function lc(n, t) {
        return je(un(n), gt(t, 0, n.length));
      }
      function pc(n) {
        return je(un(n));
      }
      function Kr(n, t, e) {
        (e !== i && !bn(n[t], e) || e === i && !(t in n)) && Kn(n, t, e);
      }
      function ie(n, t, e) {
        var r = n[t];
        (!(W.call(n, t) && bn(r, e)) || e === i && !(t in n)) && Kn(n, t, e);
      }
      function Me(n, t) {
        for (var e = n.length; e--; )
          if (bn(n[e][0], t))
            return e;
        return -1;
      }
      function dc(n, t, e, r) {
        return rt(n, function(s, o, f2) {
          t(r, s, e(s), f2);
        }), r;
      }
      function Ms(n, t) {
        return n && Un(t, V(t), n);
      }
      function gc(n, t) {
        return n && Un(t, on(t), n);
      }
      function Kn(n, t, e) {
        t == "__proto__" && Ne ? Ne(n, t, { configurable: true, enumerable: true, value: e, writable: true }) : n[t] = e;
      }
      function Yr(n, t) {
        for (var e = -1, r = t.length, s = d(r), o = n == null; ++e < r; )
          s[e] = o ? i : yi(n, t[e]);
        return s;
      }
      function gt(n, t, e) {
        return n === n && (e !== i && (n = n <= e ? n : e), t !== i && (n = n >= t ? n : t)), n;
      }
      function An(n, t, e, r, s, o) {
        var f2, c = t & Ln, l = t & Mn, v2 = t & Ct;
        if (e && (f2 = s ? e(n, r, s, o) : e(n)), f2 !== i)
          return f2;
        if (!z(n))
          return n;
        var _2 = O2(n);
        if (_2) {
          if (f2 = rh(n), !c)
            return un(n, f2);
        } else {
          var m2 = tn(n), w2 = m2 == me || m2 == Bi;
          if (at(n))
            return cu(n, c);
          if (m2 == Bn || m2 == yt || w2 && !s) {
            if (f2 = l || w2 ? {} : Ru(n), !c)
              return l ? Yc(n, gc(f2, n)) : Kc(n, Ms(f2, n));
          } else {
            if (!q2[m2])
              return s ? n : {};
            f2 = ih(n, m2, c);
          }
        }
        o || (o = new Rn());
        var A = o.get(n);
        if (A)
          return A;
        o.set(n, f2), ia(n) ? n.forEach(function(y2) {
          f2.add(An(y2, t, e, y2, n, o));
        }) : ea(n) && n.forEach(function(y2, L2) {
          f2.set(L2, An(y2, t, e, L2, n, o));
        });
        var E2 = v2 ? l ? li : hi : l ? on : V, b2 = _2 ? i : E2(n);
        return mn(b2 || n, function(y2, L2) {
          b2 && (L2 = y2, y2 = n[L2]), ie(f2, L2, An(y2, t, e, L2, n, o));
        }), f2;
      }
      function vc(n) {
        var t = V(n);
        return function(e) {
          return qs(e, n, t);
        };
      }
      function qs(n, t, e) {
        var r = e.length;
        if (n == null)
          return !r;
        for (n = M3(n); r--; ) {
          var s = e[r], o = t[s], f2 = n[s];
          if (f2 === i && !(s in n) || !o(f2))
            return false;
        }
        return true;
      }
      function Bs(n, t, e) {
        if (typeof n != "function")
          throw new wn(F);
        return he(function() {
          n.apply(i, e);
        }, t);
      }
      function se(n, t, e, r) {
        var s = -1, o = Ie, f2 = true, c = n.length, l = [], v2 = t.length;
        if (!c)
          return l;
        e && (t = G2(t, hn(e))), r ? (o = Lr, f2 = false) : t.length >= I && (o = kt, f2 = false, t = new dt(t));
        n:
          for (; ++s < c; ) {
            var _2 = n[s], m2 = e == null ? _2 : e(_2);
            if (_2 = r || _2 !== 0 ? _2 : 0, f2 && m2 === m2) {
              for (var w2 = v2; w2--; )
                if (t[w2] === m2)
                  continue n;
              l.push(_2);
            } else
              o(t, m2, r) || l.push(_2);
          }
        return l;
      }
      var rt = gu($n), Gs = gu(Jr, true);
      function _c(n, t) {
        var e = true;
        return rt(n, function(r, s, o) {
          return e = !!t(r, s, o), e;
        }), e;
      }
      function qe(n, t, e) {
        for (var r = -1, s = n.length; ++r < s; ) {
          var o = n[r], f2 = t(o);
          if (f2 != null && (c === i ? f2 === f2 && !pn(f2) : e(f2, c)))
            var c = f2, l = o;
        }
        return l;
      }
      function mc(n, t, e, r) {
        var s = n.length;
        for (e = R(e), e < 0 && (e = -e > s ? 0 : s + e), r = r === i || r > s ? s : R(r), r < 0 && (r += s), r = e > r ? 0 : ua(r); e < r; )
          n[e++] = t;
        return n;
      }
      function zs(n, t) {
        var e = [];
        return rt(n, function(r, s, o) {
          t(r, s, o) && e.push(r);
        }), e;
      }
      function j2(n, t, e, r, s) {
        var o = -1, f2 = n.length;
        for (e || (e = uh), s || (s = []); ++o < f2; ) {
          var c = n[o];
          t > 0 && e(c) ? t > 1 ? j2(c, t - 1, e, r, s) : nt(s, c) : r || (s[s.length] = c);
        }
        return s;
      }
      var Zr = vu(), Ks = vu(true);
      function $n(n, t) {
        return n && Zr(n, t, V);
      }
      function Jr(n, t) {
        return n && Ks(n, t, V);
      }
      function Be(n, t) {
        return jn(t, function(e) {
          return Xn(n[e]);
        });
      }
      function vt(n, t) {
        t = st(t, n);
        for (var e = 0, r = t.length; n != null && e < r; )
          n = n[Wn(t[e++])];
        return e && e == r ? n : i;
      }
      function Ys(n, t, e) {
        var r = t(n);
        return O2(n) ? r : nt(r, e(n));
      }
      function en(n) {
        return n == null ? n === i ? Ka : Ga : lt && lt in M3(n) ? nh(n) : ph(n);
      }
      function Xr(n, t) {
        return n > t;
      }
      function wc(n, t) {
        return n != null && W.call(n, t);
      }
      function Pc(n, t) {
        return n != null && t in M3(n);
      }
      function Ac(n, t, e) {
        return n >= nn(t, e) && n < Q2(t, e);
      }
      function Qr(n, t, e) {
        for (var r = e ? Lr : Ie, s = n[0].length, o = n.length, f2 = o, c = d(o), l = 1 / 0, v2 = []; f2--; ) {
          var _2 = n[f2];
          f2 && t && (_2 = G2(_2, hn(t))), l = nn(_2.length, l), c[f2] = !e && (t || s >= 120 && _2.length >= 120) ? new dt(f2 && _2) : i;
        }
        _2 = n[0];
        var m2 = -1, w2 = c[0];
        n:
          for (; ++m2 < s && v2.length < l; ) {
            var A = _2[m2], E2 = t ? t(A) : A;
            if (A = e || A !== 0 ? A : 0, !(w2 ? kt(w2, E2) : r(v2, E2, e))) {
              for (f2 = o; --f2; ) {
                var b2 = c[f2];
                if (!(b2 ? kt(b2, E2) : r(n[f2], E2, e)))
                  continue n;
              }
              w2 && w2.push(E2), v2.push(A);
            }
          }
        return v2;
      }
      function Cc(n, t, e, r) {
        return $n(n, function(s, o, f2) {
          t(r, e(s), o, f2);
        }), r;
      }
      function ue(n, t, e) {
        t = st(t, n), n = Du(n, t);
        var r = n == null ? n : n[Wn(In(t))];
        return r == null ? i : cn(r, n, e);
      }
      function Zs(n) {
        return K(n) && en(n) == yt;
      }
      function Ic(n) {
        return K(n) && en(n) == Vt;
      }
      function xc(n) {
        return K(n) && en(n) == Yt;
      }
      function ae(n, t, e, r, s) {
        return n === t ? true : n == null || t == null || !K(n) && !K(t) ? n !== n && t !== t : Ec(n, t, e, r, ae, s);
      }
      function Ec(n, t, e, r, s, o) {
        var f2 = O2(n), c = O2(t), l = f2 ? ve : tn(n), v2 = c ? ve : tn(t);
        l = l == yt ? Bn : l, v2 = v2 == yt ? Bn : v2;
        var _2 = l == Bn, m2 = v2 == Bn, w2 = l == v2;
        if (w2 && at(n)) {
          if (!at(t))
            return false;
          f2 = true, _2 = false;
        }
        if (w2 && !_2)
          return o || (o = new Rn()), f2 || Mt(n) ? yu(n, t, e, r, s, o) : kc(n, t, l, e, r, s, o);
        if (!(e & It)) {
          var A = _2 && W.call(n, "__wrapped__"), E2 = m2 && W.call(t, "__wrapped__");
          if (A || E2) {
            var b2 = A ? n.value() : n, y2 = E2 ? t.value() : t;
            return o || (o = new Rn()), s(b2, y2, e, r, o);
          }
        }
        return w2 ? (o || (o = new Rn()), jc(n, t, e, r, s, o)) : false;
      }
      function yc(n) {
        return K(n) && tn(n) == yn;
      }
      function Vr(n, t, e, r) {
        var s = e.length, o = s, f2 = !r;
        if (n == null)
          return !o;
        for (n = M3(n); s--; ) {
          var c = e[s];
          if (f2 && c[2] ? c[1] !== n[c[0]] : !(c[0] in n))
            return false;
        }
        for (; ++s < o; ) {
          c = e[s];
          var l = c[0], v2 = n[l], _2 = c[1];
          if (f2 && c[2]) {
            if (v2 === i && !(l in n))
              return false;
          } else {
            var m2 = new Rn();
            if (r)
              var w2 = r(v2, _2, l, n, t, m2);
            if (!(w2 === i ? ae(_2, v2, It | de, r, m2) : w2))
              return false;
          }
        }
        return true;
      }
      function Js(n) {
        if (!z(n) || oh(n))
          return false;
        var t = Xn(n) ? yf : go;
        return t.test(mt(n));
      }
      function Sc(n) {
        return K(n) && en(n) == Jt;
      }
      function Oc(n) {
        return K(n) && tn(n) == Sn;
      }
      function Rc(n) {
        return K(n) && sr(n.length) && !!B[en(n)];
      }
      function Xs(n) {
        return typeof n == "function" ? n : n == null ? fn : typeof n == "object" ? O2(n) ? ks(n[0], n[1]) : Vs(n) : _a(n);
      }
      function kr(n) {
        if (!ce(n))
          return Lf(n);
        var t = [];
        for (var e in M3(n))
          W.call(n, e) && e != "constructor" && t.push(e);
        return t;
      }
      function bc(n) {
        if (!z(n))
          return lh(n);
        var t = ce(n), e = [];
        for (var r in n)
          r == "constructor" && (t || !W.call(n, r)) || e.push(r);
        return e;
      }
      function jr(n, t) {
        return n < t;
      }
      function Qs(n, t) {
        var e = -1, r = an(n) ? d(n.length) : [];
        return rt(n, function(s, o, f2) {
          r[++e] = t(s, o, f2);
        }), r;
      }
      function Vs(n) {
        var t = di(n);
        return t.length == 1 && t[0][2] ? Tu(t[0][0], t[0][1]) : function(e) {
          return e === n || Vr(e, n, t);
        };
      }
      function ks(n, t) {
        return vi(n) && bu(t) ? Tu(Wn(n), t) : function(e) {
          var r = yi(e, n);
          return r === i && r === t ? Si(e, n) : ae(t, r, It | de);
        };
      }
      function Ge(n, t, e, r, s) {
        n !== t && Zr(t, function(o, f2) {
          if (s || (s = new Rn()), z(o))
            Tc(n, t, f2, e, Ge, r, s);
          else {
            var c = r ? r(mi(n, f2), o, f2 + "", n, t, s) : i;
            c === i && (c = o), Kr(n, f2, c);
          }
        }, on);
      }
      function Tc(n, t, e, r, s, o, f2) {
        var c = mi(n, e), l = mi(t, e), v2 = f2.get(l);
        if (v2) {
          Kr(n, e, v2);
          return;
        }
        var _2 = o ? o(c, l, e + "", n, t, f2) : i, m2 = _2 === i;
        if (m2) {
          var w2 = O2(l), A = !w2 && at(l), E2 = !w2 && !A && Mt(l);
          _2 = l, w2 || A || E2 ? O2(c) ? _2 = c : Y(c) ? _2 = un(c) : A ? (m2 = false, _2 = cu(l, true)) : E2 ? (m2 = false, _2 = hu(l, true)) : _2 = [] : le(l) || wt(l) ? (_2 = c, wt(c) ? _2 = aa(c) : (!z(c) || Xn(c)) && (_2 = Ru(l))) : m2 = false;
        }
        m2 && (f2.set(l, _2), s(_2, l, r, o, f2), f2.delete(l)), Kr(n, e, _2);
      }
      function js(n, t) {
        var e = n.length;
        if (e)
          return t += t < 0 ? e : 0, Jn(t, e) ? n[t] : i;
      }
      function nu(n, t, e) {
        t.length ? t = G2(t, function(o) {
          return O2(o) ? function(f2) {
            return vt(f2, o.length === 1 ? o[0] : o);
          } : o;
        }) : t = [fn];
        var r = -1;
        t = G2(t, hn(x()));
        var s = Qs(n, function(o, f2, c) {
          var l = G2(t, function(v2) {
            return v2(o);
          });
          return { criteria: l, index: ++r, value: o };
        });
        return rf(s, function(o, f2) {
          return zc(o, f2, e);
        });
      }
      function Lc(n, t) {
        return tu(n, t, function(e, r) {
          return Si(n, r);
        });
      }
      function tu(n, t, e) {
        for (var r = -1, s = t.length, o = {}; ++r < s; ) {
          var f2 = t[r], c = vt(n, f2);
          e(c, f2) && oe(o, st(f2, n), c);
        }
        return o;
      }
      function Dc(n) {
        return function(t) {
          return vt(t, n);
        };
      }
      function ni(n, t, e, r) {
        var s = r ? ef : Rt, o = -1, f2 = t.length, c = n;
        for (n === t && (t = un(t)), e && (c = G2(n, hn(e))); ++o < f2; )
          for (var l = 0, v2 = t[o], _2 = e ? e(v2) : v2; (l = s(c, _2, l, r)) > -1; )
            c !== n && De.call(c, l, 1), De.call(n, l, 1);
        return n;
      }
      function eu(n, t) {
        for (var e = n ? t.length : 0, r = e - 1; e--; ) {
          var s = t[e];
          if (e == r || s !== o) {
            var o = s;
            Jn(s) ? De.call(n, s, 1) : ii(n, s);
          }
        }
        return n;
      }
      function ti(n, t) {
        return n + $e($s() * (t - n + 1));
      }
      function Nc(n, t, e, r) {
        for (var s = -1, o = Q2(He((t - n) / (e || 1)), 0), f2 = d(o); o--; )
          f2[r ? o : ++s] = n, n += e;
        return f2;
      }
      function ei(n, t) {
        var e = "";
        if (!n || t < 1 || t > kn)
          return e;
        do
          t % 2 && (e += n), t = $e(t / 2), t && (n += n);
        while (t);
        return e;
      }
      function T(n, t) {
        return wi(Lu(n, t, fn), n + "");
      }
      function Hc(n) {
        return Fs(qt(n));
      }
      function $c(n, t) {
        var e = qt(n);
        return je(e, gt(t, 0, e.length));
      }
      function oe(n, t, e, r) {
        if (!z(n))
          return n;
        t = st(t, n);
        for (var s = -1, o = t.length, f2 = o - 1, c = n; c != null && ++s < o; ) {
          var l = Wn(t[s]), v2 = e;
          if (l === "__proto__" || l === "constructor" || l === "prototype")
            return n;
          if (s != f2) {
            var _2 = c[l];
            v2 = r ? r(_2, l, c) : i, v2 === i && (v2 = z(_2) ? _2 : Jn(t[s + 1]) ? [] : {});
          }
          ie(c, l, v2), c = c[l];
        }
        return n;
      }
      var ru = Ue ? function(n, t) {
        return Ue.set(n, t), n;
      } : fn, Uc = Ne ? function(n, t) {
        return Ne(n, "toString", { configurable: true, enumerable: false, value: Ri(t), writable: true });
      } : fn;
      function Wc(n) {
        return je(qt(n));
      }
      function Cn(n, t, e) {
        var r = -1, s = n.length;
        t < 0 && (t = -t > s ? 0 : s + t), e = e > s ? s : e, e < 0 && (e += s), s = t > e ? 0 : e - t >>> 0, t >>>= 0;
        for (var o = d(s); ++r < s; )
          o[r] = n[r + t];
        return o;
      }
      function Fc(n, t) {
        var e;
        return rt(n, function(r, s, o) {
          return e = t(r, s, o), !e;
        }), !!e;
      }
      function ze(n, t, e) {
        var r = 0, s = n == null ? r : n.length;
        if (typeof t == "number" && t === t && s <= Fa) {
          for (; r < s; ) {
            var o = r + s >>> 1, f2 = n[o];
            f2 !== null && !pn(f2) && (e ? f2 <= t : f2 < t) ? r = o + 1 : s = o;
          }
          return s;
        }
        return ri(n, t, fn, e);
      }
      function ri(n, t, e, r) {
        var s = 0, o = n == null ? 0 : n.length;
        if (o === 0)
          return 0;
        t = e(t);
        for (var f2 = t !== t, c = t === null, l = pn(t), v2 = t === i; s < o; ) {
          var _2 = $e((s + o) / 2), m2 = e(n[_2]), w2 = m2 !== i, A = m2 === null, E2 = m2 === m2, b2 = pn(m2);
          if (f2)
            var y2 = r || E2;
          else
            v2 ? y2 = E2 && (r || w2) : c ? y2 = E2 && w2 && (r || !A) : l ? y2 = E2 && w2 && !A && (r || !b2) : A || b2 ? y2 = false : y2 = r ? m2 <= t : m2 < t;
          y2 ? s = _2 + 1 : o = _2;
        }
        return nn(o, Wa);
      }
      function iu(n, t) {
        for (var e = -1, r = n.length, s = 0, o = []; ++e < r; ) {
          var f2 = n[e], c = t ? t(f2) : f2;
          if (!e || !bn(c, l)) {
            var l = c;
            o[s++] = f2 === 0 ? 0 : f2;
          }
        }
        return o;
      }
      function su(n) {
        return typeof n == "number" ? n : pn(n) ? ge : +n;
      }
      function ln(n) {
        if (typeof n == "string")
          return n;
        if (O2(n))
          return G2(n, ln) + "";
        if (pn(n))
          return Us ? Us.call(n) : "";
        var t = n + "";
        return t == "0" && 1 / n == -ct ? "-0" : t;
      }
      function it(n, t, e) {
        var r = -1, s = Ie, o = n.length, f2 = true, c = [], l = c;
        if (e)
          f2 = false, s = Lr;
        else if (o >= I) {
          var v2 = t ? null : Qc(n);
          if (v2)
            return Ee(v2);
          f2 = false, s = kt, l = new dt();
        } else
          l = t ? [] : c;
        n:
          for (; ++r < o; ) {
            var _2 = n[r], m2 = t ? t(_2) : _2;
            if (_2 = e || _2 !== 0 ? _2 : 0, f2 && m2 === m2) {
              for (var w2 = l.length; w2--; )
                if (l[w2] === m2)
                  continue n;
              t && l.push(m2), c.push(_2);
            } else
              s(l, m2, e) || (l !== c && l.push(m2), c.push(_2));
          }
        return c;
      }
      function ii(n, t) {
        return t = st(t, n), n = Du(n, t), n == null || delete n[Wn(In(t))];
      }
      function uu(n, t, e, r) {
        return oe(n, t, e(vt(n, t)), r);
      }
      function Ke(n, t, e, r) {
        for (var s = n.length, o = r ? s : -1; (r ? o-- : ++o < s) && t(n[o], o, n); )
          ;
        return e ? Cn(n, r ? 0 : o, r ? o + 1 : s) : Cn(n, r ? o + 1 : 0, r ? s : o);
      }
      function au(n, t) {
        var e = n;
        return e instanceof N2 && (e = e.value()), Dr(t, function(r, s) {
          return s.func.apply(s.thisArg, nt([r], s.args));
        }, e);
      }
      function si(n, t, e) {
        var r = n.length;
        if (r < 2)
          return r ? it(n[0]) : [];
        for (var s = -1, o = d(r); ++s < r; )
          for (var f2 = n[s], c = -1; ++c < r; )
            c != s && (o[s] = se(o[s] || f2, n[c], t, e));
        return it(j2(o, 1), t, e);
      }
      function ou(n, t, e) {
        for (var r = -1, s = n.length, o = t.length, f2 = {}; ++r < s; ) {
          var c = r < o ? t[r] : i;
          e(f2, n[r], c);
        }
        return f2;
      }
      function ui(n) {
        return Y(n) ? n : [];
      }
      function ai(n) {
        return typeof n == "function" ? n : fn;
      }
      function st(n, t) {
        return O2(n) ? n : vi(n, t) ? [n] : Uu(U2(n));
      }
      var Mc = T;
      function ut(n, t, e) {
        var r = n.length;
        return e = e === i ? r : e, !t && e >= r ? n : Cn(n, t, e);
      }
      var fu = Sf || function(n) {
        return k.clearTimeout(n);
      };
      function cu(n, t) {
        if (t)
          return n.slice();
        var e = n.length, r = Ts ? Ts(e) : new n.constructor(e);
        return n.copy(r), r;
      }
      function oi(n) {
        var t = new n.constructor(n.byteLength);
        return new Te(t).set(new Te(n)), t;
      }
      function qc(n, t) {
        var e = t ? oi(n.buffer) : n.buffer;
        return new n.constructor(e, n.byteOffset, n.byteLength);
      }
      function Bc(n) {
        var t = new n.constructor(n.source, Zi.exec(n));
        return t.lastIndex = n.lastIndex, t;
      }
      function Gc(n) {
        return re ? M3(re.call(n)) : {};
      }
      function hu(n, t) {
        var e = t ? oi(n.buffer) : n.buffer;
        return new n.constructor(e, n.byteOffset, n.length);
      }
      function lu(n, t) {
        if (n !== t) {
          var e = n !== i, r = n === null, s = n === n, o = pn(n), f2 = t !== i, c = t === null, l = t === t, v2 = pn(t);
          if (!c && !v2 && !o && n > t || o && f2 && l && !c && !v2 || r && f2 && l || !e && l || !s)
            return 1;
          if (!r && !o && !v2 && n < t || v2 && e && s && !r && !o || c && e && s || !f2 && s || !l)
            return -1;
        }
        return 0;
      }
      function zc(n, t, e) {
        for (var r = -1, s = n.criteria, o = t.criteria, f2 = s.length, c = e.length; ++r < f2; ) {
          var l = lu(s[r], o[r]);
          if (l) {
            if (r >= c)
              return l;
            var v2 = e[r];
            return l * (v2 == "desc" ? -1 : 1);
          }
        }
        return n.index - t.index;
      }
      function pu(n, t, e, r) {
        for (var s = -1, o = n.length, f2 = e.length, c = -1, l = t.length, v2 = Q2(o - f2, 0), _2 = d(l + v2), m2 = !r; ++c < l; )
          _2[c] = t[c];
        for (; ++s < f2; )
          (m2 || s < o) && (_2[e[s]] = n[s]);
        for (; v2--; )
          _2[c++] = n[s++];
        return _2;
      }
      function du(n, t, e, r) {
        for (var s = -1, o = n.length, f2 = -1, c = e.length, l = -1, v2 = t.length, _2 = Q2(o - c, 0), m2 = d(_2 + v2), w2 = !r; ++s < _2; )
          m2[s] = n[s];
        for (var A = s; ++l < v2; )
          m2[A + l] = t[l];
        for (; ++f2 < c; )
          (w2 || s < o) && (m2[A + e[f2]] = n[s++]);
        return m2;
      }
      function un(n, t) {
        var e = -1, r = n.length;
        for (t || (t = d(r)); ++e < r; )
          t[e] = n[e];
        return t;
      }
      function Un(n, t, e, r) {
        var s = !e;
        e || (e = {});
        for (var o = -1, f2 = t.length; ++o < f2; ) {
          var c = t[o], l = r ? r(e[c], n[c], c, e, n) : i;
          l === i && (l = n[c]), s ? Kn(e, c, l) : ie(e, c, l);
        }
        return e;
      }
      function Kc(n, t) {
        return Un(n, gi(n), t);
      }
      function Yc(n, t) {
        return Un(n, Su(n), t);
      }
      function Ye(n, t) {
        return function(e, r) {
          var s = O2(e) ? Qo : dc, o = t ? t() : {};
          return s(e, n, x(r, 2), o);
        };
      }
      function Ut(n) {
        return T(function(t, e) {
          var r = -1, s = e.length, o = s > 1 ? e[s - 1] : i, f2 = s > 2 ? e[2] : i;
          for (o = n.length > 3 && typeof o == "function" ? (s--, o) : i, f2 && rn(e[0], e[1], f2) && (o = s < 3 ? i : o, s = 1), t = M3(t); ++r < s; ) {
            var c = e[r];
            c && n(t, c, r, o);
          }
          return t;
        });
      }
      function gu(n, t) {
        return function(e, r) {
          if (e == null)
            return e;
          if (!an(e))
            return n(e, r);
          for (var s = e.length, o = t ? s : -1, f2 = M3(e); (t ? o-- : ++o < s) && r(f2[o], o, f2) !== false; )
            ;
          return e;
        };
      }
      function vu(n) {
        return function(t, e, r) {
          for (var s = -1, o = M3(t), f2 = r(t), c = f2.length; c--; ) {
            var l = f2[n ? c : ++s];
            if (e(o[l], l, o) === false)
              break;
          }
          return t;
        };
      }
      function Zc(n, t, e) {
        var r = t & vn, s = fe(n);
        function o() {
          var f2 = this && this !== k && this instanceof o ? s : n;
          return f2.apply(r ? e : this, arguments);
        }
        return o;
      }
      function _u(n) {
        return function(t) {
          t = U2(t);
          var e = bt(t) ? On2(t) : i, r = e ? e[0] : t.charAt(0), s = e ? ut(e, 1).join("") : t.slice(1);
          return r[n]() + s;
        };
      }
      function Wt(n) {
        return function(t) {
          return Dr(ga(da(t).replace($o, "")), n, "");
        };
      }
      function fe(n) {
        return function() {
          var t = arguments;
          switch (t.length) {
            case 0:
              return new n();
            case 1:
              return new n(t[0]);
            case 2:
              return new n(t[0], t[1]);
            case 3:
              return new n(t[0], t[1], t[2]);
            case 4:
              return new n(t[0], t[1], t[2], t[3]);
            case 5:
              return new n(t[0], t[1], t[2], t[3], t[4]);
            case 6:
              return new n(t[0], t[1], t[2], t[3], t[4], t[5]);
            case 7:
              return new n(t[0], t[1], t[2], t[3], t[4], t[5], t[6]);
          }
          var e = $t(n.prototype), r = n.apply(e, t);
          return z(r) ? r : e;
        };
      }
      function Jc(n, t, e) {
        var r = fe(n);
        function s() {
          for (var o = arguments.length, f2 = d(o), c = o, l = Ft(s); c--; )
            f2[c] = arguments[c];
          var v2 = o < 3 && f2[0] !== l && f2[o - 1] !== l ? [] : tt(f2, l);
          if (o -= v2.length, o < e)
            return Cu(n, t, Ze2, s.placeholder, i, f2, v2, i, i, e - o);
          var _2 = this && this !== k && this instanceof s ? r : n;
          return cn(_2, this, f2);
        }
        return s;
      }
      function mu(n) {
        return function(t, e, r) {
          var s = M3(t);
          if (!an(t)) {
            var o = x(e, 3);
            t = V(t), e = function(c) {
              return o(s[c], c, s);
            };
          }
          var f2 = n(t, e, r);
          return f2 > -1 ? s[o ? t[f2] : f2] : i;
        };
      }
      function wu(n) {
        return Zn(function(t) {
          var e = t.length, r = e, s = Pn.prototype.thru;
          for (n && t.reverse(); r--; ) {
            var o = t[r];
            if (typeof o != "function")
              throw new wn(F);
            if (s && !f2 && Ve(o) == "wrapper")
              var f2 = new Pn([], true);
          }
          for (r = f2 ? r : e; ++r < e; ) {
            o = t[r];
            var c = Ve(o), l = c == "wrapper" ? pi(o) : i;
            l && _i(l[0]) && l[1] == (qn | Dn | Nn | zt) && !l[4].length && l[9] == 1 ? f2 = f2[Ve(l[0])].apply(f2, l[3]) : f2 = o.length == 1 && _i(o) ? f2[c]() : f2.thru(o);
          }
          return function() {
            var v2 = arguments, _2 = v2[0];
            if (f2 && v2.length == 1 && O2(_2))
              return f2.plant(_2).value();
            for (var m2 = 0, w2 = e ? t[m2].apply(this, v2) : _2; ++m2 < e; )
              w2 = t[m2].call(this, w2);
            return w2;
          };
        });
      }
      function Ze2(n, t, e, r, s, o, f2, c, l, v2) {
        var _2 = t & qn, m2 = t & vn, w2 = t & ft, A = t & (Dn | xt), E2 = t & pr, b2 = w2 ? i : fe(n);
        function y2() {
          for (var L2 = arguments.length, H2 = d(L2), dn = L2; dn--; )
            H2[dn] = arguments[dn];
          if (A)
            var sn = Ft(y2), gn = uf(H2, sn);
          if (r && (H2 = pu(H2, r, s, A)), o && (H2 = du(H2, o, f2, A)), L2 -= gn, A && L2 < v2) {
            var Z = tt(H2, sn);
            return Cu(n, t, Ze2, y2.placeholder, e, H2, Z, c, l, v2 - L2);
          }
          var Tn = m2 ? e : this, Vn = w2 ? Tn[n] : n;
          return L2 = H2.length, c ? H2 = dh(H2, c) : E2 && L2 > 1 && H2.reverse(), _2 && l < L2 && (H2.length = l), this && this !== k && this instanceof y2 && (Vn = b2 || fe(Vn)), Vn.apply(Tn, H2);
        }
        return y2;
      }
      function Pu(n, t) {
        return function(e, r) {
          return Cc(e, n, t(r), {});
        };
      }
      function Je(n, t) {
        return function(e, r) {
          var s;
          if (e === i && r === i)
            return t;
          if (e !== i && (s = e), r !== i) {
            if (s === i)
              return r;
            typeof e == "string" || typeof r == "string" ? (e = ln(e), r = ln(r)) : (e = su(e), r = su(r)), s = n(e, r);
          }
          return s;
        };
      }
      function fi(n) {
        return Zn(function(t) {
          return t = G2(t, hn(x())), T(function(e) {
            var r = this;
            return n(t, function(s) {
              return cn(s, r, e);
            });
          });
        });
      }
      function Xe(n, t) {
        t = t === i ? " " : ln(t);
        var e = t.length;
        if (e < 2)
          return e ? ei(t, n) : t;
        var r = ei(t, He(n / Tt(t)));
        return bt(t) ? ut(On2(r), 0, n).join("") : r.slice(0, n);
      }
      function Xc(n, t, e, r) {
        var s = t & vn, o = fe(n);
        function f2() {
          for (var c = -1, l = arguments.length, v2 = -1, _2 = r.length, m2 = d(_2 + l), w2 = this && this !== k && this instanceof f2 ? o : n; ++v2 < _2; )
            m2[v2] = r[v2];
          for (; l--; )
            m2[v2++] = arguments[++c];
          return cn(w2, s ? e : this, m2);
        }
        return f2;
      }
      function Au(n) {
        return function(t, e, r) {
          return r && typeof r != "number" && rn(t, e, r) && (e = r = i), t = Qn(t), e === i ? (e = t, t = 0) : e = Qn(e), r = r === i ? t < e ? 1 : -1 : Qn(r), Nc(t, e, r, n);
        };
      }
      function Qe(n) {
        return function(t, e) {
          return typeof t == "string" && typeof e == "string" || (t = xn(t), e = xn(e)), n(t, e);
        };
      }
      function Cu(n, t, e, r, s, o, f2, c, l, v2) {
        var _2 = t & Dn, m2 = _2 ? f2 : i, w2 = _2 ? i : f2, A = _2 ? o : i, E2 = _2 ? i : o;
        t |= _2 ? Nn : Et, t &= ~(_2 ? Et : Nn), t & Mi || (t &= ~(vn | ft));
        var b2 = [n, t, s, A, m2, E2, w2, c, l, v2], y2 = e.apply(i, b2);
        return _i(n) && Nu(y2, b2), y2.placeholder = r, Hu(y2, n, t);
      }
      function ci(n) {
        var t = X[n];
        return function(e, r) {
          if (e = xn(e), r = r == null ? 0 : nn(R(r), 292), r && Hs(e)) {
            var s = (U2(e) + "e").split("e"), o = t(s[0] + "e" + (+s[1] + r));
            return s = (U2(o) + "e").split("e"), +(s[0] + "e" + (+s[1] - r));
          }
          return t(e);
        };
      }
      var Qc = Nt && 1 / Ee(new Nt([, -0]))[1] == ct ? function(n) {
        return new Nt(n);
      } : Li;
      function Iu(n) {
        return function(t) {
          var e = tn(t);
          return e == yn ? Mr(t) : e == Sn ? pf(t) : sf(t, n(t));
        };
      }
      function Yn(n, t, e, r, s, o, f2, c) {
        var l = t & ft;
        if (!l && typeof n != "function")
          throw new wn(F);
        var v2 = r ? r.length : 0;
        if (v2 || (t &= ~(Nn | Et), r = s = i), f2 = f2 === i ? f2 : Q2(R(f2), 0), c = c === i ? c : R(c), v2 -= s ? s.length : 0, t & Et) {
          var _2 = r, m2 = s;
          r = s = i;
        }
        var w2 = l ? i : pi(n), A = [n, t, e, r, s, _2, m2, o, f2, c];
        if (w2 && hh(A, w2), n = A[0], t = A[1], e = A[2], r = A[3], s = A[4], c = A[9] = A[9] === i ? l ? 0 : n.length : Q2(A[9] - v2, 0), !c && t & (Dn | xt) && (t &= ~(Dn | xt)), !t || t == vn)
          var E2 = Zc(n, t, e);
        else
          t == Dn || t == xt ? E2 = Jc(n, t, c) : (t == Nn || t == (vn | Nn)) && !s.length ? E2 = Xc(n, t, e, r) : E2 = Ze2.apply(i, A);
        var b2 = w2 ? ru : Nu;
        return Hu(b2(E2, A), n, t);
      }
      function xu(n, t, e, r) {
        return n === i || bn(n, Dt[e]) && !W.call(r, e) ? t : n;
      }
      function Eu(n, t, e, r, s, o) {
        return z(n) && z(t) && (o.set(t, n), Ge(n, t, i, Eu, o), o.delete(t)), n;
      }
      function Vc(n) {
        return le(n) ? i : n;
      }
      function yu(n, t, e, r, s, o) {
        var f2 = e & It, c = n.length, l = t.length;
        if (c != l && !(f2 && l > c))
          return false;
        var v2 = o.get(n), _2 = o.get(t);
        if (v2 && _2)
          return v2 == t && _2 == n;
        var m2 = -1, w2 = true, A = e & de ? new dt() : i;
        for (o.set(n, t), o.set(t, n); ++m2 < c; ) {
          var E2 = n[m2], b2 = t[m2];
          if (r)
            var y2 = f2 ? r(b2, E2, m2, t, n, o) : r(E2, b2, m2, n, t, o);
          if (y2 !== i) {
            if (y2)
              continue;
            w2 = false;
            break;
          }
          if (A) {
            if (!Nr(t, function(L2, H2) {
              if (!kt(A, H2) && (E2 === L2 || s(E2, L2, e, r, o)))
                return A.push(H2);
            })) {
              w2 = false;
              break;
            }
          } else if (!(E2 === b2 || s(E2, b2, e, r, o))) {
            w2 = false;
            break;
          }
        }
        return o.delete(n), o.delete(t), w2;
      }
      function kc(n, t, e, r, s, o, f2) {
        switch (e) {
          case St:
            if (n.byteLength != t.byteLength || n.byteOffset != t.byteOffset)
              return false;
            n = n.buffer, t = t.buffer;
          case Vt:
            return !(n.byteLength != t.byteLength || !o(new Te(n), new Te(t)));
          case Kt:
          case Yt:
          case Zt:
            return bn(+n, +t);
          case _e:
            return n.name == t.name && n.message == t.message;
          case Jt:
          case Xt:
            return n == t + "";
          case yn:
            var c = Mr;
          case Sn:
            var l = r & It;
            if (c || (c = Ee), n.size != t.size && !l)
              return false;
            var v2 = f2.get(n);
            if (v2)
              return v2 == t;
            r |= de, f2.set(n, t);
            var _2 = yu(c(n), c(t), r, s, o, f2);
            return f2.delete(n), _2;
          case we:
            if (re)
              return re.call(n) == re.call(t);
        }
        return false;
      }
      function jc(n, t, e, r, s, o) {
        var f2 = e & It, c = hi(n), l = c.length, v2 = hi(t), _2 = v2.length;
        if (l != _2 && !f2)
          return false;
        for (var m2 = l; m2--; ) {
          var w2 = c[m2];
          if (!(f2 ? w2 in t : W.call(t, w2)))
            return false;
        }
        var A = o.get(n), E2 = o.get(t);
        if (A && E2)
          return A == t && E2 == n;
        var b2 = true;
        o.set(n, t), o.set(t, n);
        for (var y2 = f2; ++m2 < l; ) {
          w2 = c[m2];
          var L2 = n[w2], H2 = t[w2];
          if (r)
            var dn = f2 ? r(H2, L2, w2, t, n, o) : r(L2, H2, w2, n, t, o);
          if (!(dn === i ? L2 === H2 || s(L2, H2, e, r, o) : dn)) {
            b2 = false;
            break;
          }
          y2 || (y2 = w2 == "constructor");
        }
        if (b2 && !y2) {
          var sn = n.constructor, gn = t.constructor;
          sn != gn && "constructor" in n && "constructor" in t && !(typeof sn == "function" && sn instanceof sn && typeof gn == "function" && gn instanceof gn) && (b2 = false);
        }
        return o.delete(n), o.delete(t), b2;
      }
      function Zn(n) {
        return wi(Lu(n, i, qu), n + "");
      }
      function hi(n) {
        return Ys(n, V, gi);
      }
      function li(n) {
        return Ys(n, on, Su);
      }
      var pi = Ue ? function(n) {
        return Ue.get(n);
      } : Li;
      function Ve(n) {
        for (var t = n.name + "", e = Ht[t], r = W.call(Ht, t) ? e.length : 0; r--; ) {
          var s = e[r], o = s.func;
          if (o == null || o == n)
            return s.name;
        }
        return t;
      }
      function Ft(n) {
        var t = W.call(a, "placeholder") ? a : n;
        return t.placeholder;
      }
      function x() {
        var n = a.iteratee || bi;
        return n = n === bi ? Xs : n, arguments.length ? n(arguments[0], arguments[1]) : n;
      }
      function ke(n, t) {
        var e = n.__data__;
        return ah(t) ? e[typeof t == "string" ? "string" : "hash"] : e.map;
      }
      function di(n) {
        for (var t = V(n), e = t.length; e--; ) {
          var r = t[e], s = n[r];
          t[e] = [r, s, bu(s)];
        }
        return t;
      }
      function _t(n, t) {
        var e = cf(n, t);
        return Js(e) ? e : i;
      }
      function nh(n) {
        var t = W.call(n, lt), e = n[lt];
        try {
          n[lt] = i;
          var r = true;
        } catch {
        }
        var s = Re.call(n);
        return r && (t ? n[lt] = e : delete n[lt]), s;
      }
      var gi = Br ? function(n) {
        return n == null ? [] : (n = M3(n), jn(Br(n), function(t) {
          return Ds.call(n, t);
        }));
      } : Di, Su = Br ? function(n) {
        for (var t = []; n; )
          nt(t, gi(n)), n = Le(n);
        return t;
      } : Di, tn = en;
      (Gr && tn(new Gr(new ArrayBuffer(1))) != St || ne && tn(new ne()) != yn || zr && tn(zr.resolve()) != Gi || Nt && tn(new Nt()) != Sn || te3 && tn(new te3()) != Qt) && (tn = function(n) {
        var t = en(n), e = t == Bn ? n.constructor : i, r = e ? mt(e) : "";
        if (r)
          switch (r) {
            case $f:
              return St;
            case Uf:
              return yn;
            case Wf:
              return Gi;
            case Ff:
              return Sn;
            case Mf:
              return Qt;
          }
        return t;
      });
      function th(n, t, e) {
        for (var r = -1, s = e.length; ++r < s; ) {
          var o = e[r], f2 = o.size;
          switch (o.type) {
            case "drop":
              n += f2;
              break;
            case "dropRight":
              t -= f2;
              break;
            case "take":
              t = nn(t, n + f2);
              break;
            case "takeRight":
              n = Q2(n, t - f2);
              break;
          }
        }
        return { start: n, end: t };
      }
      function eh(n) {
        var t = n.match(uo);
        return t ? t[1].split(ao) : [];
      }
      function Ou(n, t, e) {
        t = st(t, n);
        for (var r = -1, s = t.length, o = false; ++r < s; ) {
          var f2 = Wn(t[r]);
          if (!(o = n != null && e(n, f2)))
            break;
          n = n[f2];
        }
        return o || ++r != s ? o : (s = n == null ? 0 : n.length, !!s && sr(s) && Jn(f2, s) && (O2(n) || wt(n)));
      }
      function rh(n) {
        var t = n.length, e = new n.constructor(t);
        return t && typeof n[0] == "string" && W.call(n, "index") && (e.index = n.index, e.input = n.input), e;
      }
      function Ru(n) {
        return typeof n.constructor == "function" && !ce(n) ? $t(Le(n)) : {};
      }
      function ih(n, t, e) {
        var r = n.constructor;
        switch (t) {
          case Vt:
            return oi(n);
          case Kt:
          case Yt:
            return new r(+n);
          case St:
            return qc(n, e);
          case dr:
          case gr:
          case vr:
          case _r:
          case mr:
          case wr:
          case Pr:
          case Ar:
          case Cr:
            return hu(n, e);
          case yn:
            return new r();
          case Zt:
          case Xt:
            return new r(n);
          case Jt:
            return Bc(n);
          case Sn:
            return new r();
          case we:
            return Gc(n);
        }
      }
      function sh(n, t) {
        var e = t.length;
        if (!e)
          return n;
        var r = e - 1;
        return t[r] = (e > 1 ? "& " : "") + t[r], t = t.join(e > 2 ? ", " : " "), n.replace(so, `{
/* [wrapped with ` + t + `] */
`);
      }
      function uh(n) {
        return O2(n) || wt(n) || !!(Ns && n && n[Ns]);
      }
      function Jn(n, t) {
        var e = typeof n;
        return t = t != null ? t : kn, !!t && (e == "number" || e != "symbol" && _o.test(n)) && n > -1 && n % 1 == 0 && n < t;
      }
      function rn(n, t, e) {
        if (!z(e))
          return false;
        var r = typeof t;
        return (r == "number" ? an(e) && Jn(t, e.length) : r == "string" && t in e) ? bn(e[t], n) : false;
      }
      function vi(n, t) {
        if (O2(n))
          return false;
        var e = typeof n;
        return e == "number" || e == "symbol" || e == "boolean" || n == null || pn(n) ? true : to.test(n) || !no.test(n) || t != null && n in M3(t);
      }
      function ah(n) {
        var t = typeof n;
        return t == "string" || t == "number" || t == "symbol" || t == "boolean" ? n !== "__proto__" : n === null;
      }
      function _i(n) {
        var t = Ve(n), e = a[t];
        if (typeof e != "function" || !(t in N2.prototype))
          return false;
        if (n === e)
          return true;
        var r = pi(e);
        return !!r && n === r[0];
      }
      function oh(n) {
        return !!bs && bs in n;
      }
      var fh = Se ? Xn : Ni;
      function ce(n) {
        var t = n && n.constructor, e = typeof t == "function" && t.prototype || Dt;
        return n === e;
      }
      function bu(n) {
        return n === n && !z(n);
      }
      function Tu(n, t) {
        return function(e) {
          return e == null ? false : e[n] === t && (t !== i || n in M3(e));
        };
      }
      function ch(n) {
        var t = rr(n, function(r) {
          return e.size === lr && e.clear(), r;
        }), e = t.cache;
        return t;
      }
      function hh(n, t) {
        var e = n[1], r = t[1], s = e | r, o = s < (vn | ft | qn), f2 = r == qn && e == Dn || r == qn && e == zt && n[7].length <= t[8] || r == (qn | zt) && t[7].length <= t[8] && e == Dn;
        if (!(o || f2))
          return n;
        r & vn && (n[2] = t[2], s |= e & vn ? 0 : Mi);
        var c = t[3];
        if (c) {
          var l = n[3];
          n[3] = l ? pu(l, c, t[4]) : c, n[4] = l ? tt(n[3], At) : t[4];
        }
        return c = t[5], c && (l = n[5], n[5] = l ? du(l, c, t[6]) : c, n[6] = l ? tt(n[5], At) : t[6]), c = t[7], c && (n[7] = c), r & qn && (n[8] = n[8] == null ? t[8] : nn(n[8], t[8])), n[9] == null && (n[9] = t[9]), n[0] = t[0], n[1] = s, n;
      }
      function lh(n) {
        var t = [];
        if (n != null)
          for (var e in M3(n))
            t.push(e);
        return t;
      }
      function ph(n) {
        return Re.call(n);
      }
      function Lu(n, t, e) {
        return t = Q2(t === i ? n.length - 1 : t, 0), function() {
          for (var r = arguments, s = -1, o = Q2(r.length - t, 0), f2 = d(o); ++s < o; )
            f2[s] = r[t + s];
          s = -1;
          for (var c = d(t + 1); ++s < t; )
            c[s] = r[s];
          return c[t] = e(f2), cn(n, this, c);
        };
      }
      function Du(n, t) {
        return t.length < 2 ? n : vt(n, Cn(t, 0, -1));
      }
      function dh(n, t) {
        for (var e = n.length, r = nn(t.length, e), s = un(n); r--; ) {
          var o = t[r];
          n[r] = Jn(o, e) ? s[o] : i;
        }
        return n;
      }
      function mi(n, t) {
        if (!(t === "constructor" && typeof n[t] == "function") && t != "__proto__")
          return n[t];
      }
      var Nu = $u(ru), he = Rf || function(n, t) {
        return k.setTimeout(n, t);
      }, wi = $u(Uc);
      function Hu(n, t, e) {
        var r = t + "";
        return wi(n, sh(r, gh(eh(r), e)));
      }
      function $u(n) {
        var t = 0, e = 0;
        return function() {
          var r = Df(), s = Na - (r - e);
          if (e = r, s > 0) {
            if (++t >= Da)
              return arguments[0];
          } else
            t = 0;
          return n.apply(i, arguments);
        };
      }
      function je(n, t) {
        var e = -1, r = n.length, s = r - 1;
        for (t = t === i ? r : t; ++e < t; ) {
          var o = ti(e, s), f2 = n[o];
          n[o] = n[e], n[e] = f2;
        }
        return n.length = t, n;
      }
      var Uu = ch(function(n) {
        var t = [];
        return n.charCodeAt(0) === 46 && t.push(""), n.replace(eo, function(e, r, s, o) {
          t.push(s ? o.replace(co, "$1") : r || e);
        }), t;
      });
      function Wn(n) {
        if (typeof n == "string" || pn(n))
          return n;
        var t = n + "";
        return t == "0" && 1 / n == -ct ? "-0" : t;
      }
      function mt(n) {
        if (n != null) {
          try {
            return Oe.call(n);
          } catch {
          }
          try {
            return n + "";
          } catch {
          }
        }
        return "";
      }
      function gh(n, t) {
        return mn(Ma, function(e) {
          var r = "_." + e[0];
          t & e[1] && !Ie(n, r) && n.push(r);
        }), n.sort();
      }
      function Wu(n) {
        if (n instanceof N2)
          return n.clone();
        var t = new Pn(n.__wrapped__, n.__chain__);
        return t.__actions__ = un(n.__actions__), t.__index__ = n.__index__, t.__values__ = n.__values__, t;
      }
      function vh(n, t, e) {
        (e ? rn(n, t, e) : t === i) ? t = 1 : t = Q2(R(t), 0);
        var r = n == null ? 0 : n.length;
        if (!r || t < 1)
          return [];
        for (var s = 0, o = 0, f2 = d(He(r / t)); s < r; )
          f2[o++] = Cn(n, s, s += t);
        return f2;
      }
      function _h(n) {
        for (var t = -1, e = n == null ? 0 : n.length, r = 0, s = []; ++t < e; ) {
          var o = n[t];
          o && (s[r++] = o);
        }
        return s;
      }
      function mh() {
        var n = arguments.length;
        if (!n)
          return [];
        for (var t = d(n - 1), e = arguments[0], r = n; r--; )
          t[r - 1] = arguments[r];
        return nt(O2(e) ? un(e) : [e], j2(t, 1));
      }
      var wh = T(function(n, t) {
        return Y(n) ? se(n, j2(t, 1, Y, true)) : [];
      }), Ph = T(function(n, t) {
        var e = In(t);
        return Y(e) && (e = i), Y(n) ? se(n, j2(t, 1, Y, true), x(e, 2)) : [];
      }), Ah = T(function(n, t) {
        var e = In(t);
        return Y(e) && (e = i), Y(n) ? se(n, j2(t, 1, Y, true), i, e) : [];
      });
      function Ch(n, t, e) {
        var r = n == null ? 0 : n.length;
        return r ? (t = e || t === i ? 1 : R(t), Cn(n, t < 0 ? 0 : t, r)) : [];
      }
      function Ih(n, t, e) {
        var r = n == null ? 0 : n.length;
        return r ? (t = e || t === i ? 1 : R(t), t = r - t, Cn(n, 0, t < 0 ? 0 : t)) : [];
      }
      function xh(n, t) {
        return n && n.length ? Ke(n, x(t, 3), true, true) : [];
      }
      function Eh(n, t) {
        return n && n.length ? Ke(n, x(t, 3), true) : [];
      }
      function yh(n, t, e, r) {
        var s = n == null ? 0 : n.length;
        return s ? (e && typeof e != "number" && rn(n, t, e) && (e = 0, r = s), mc(n, t, e, r)) : [];
      }
      function Fu(n, t, e) {
        var r = n == null ? 0 : n.length;
        if (!r)
          return -1;
        var s = e == null ? 0 : R(e);
        return s < 0 && (s = Q2(r + s, 0)), xe(n, x(t, 3), s);
      }
      function Mu(n, t, e) {
        var r = n == null ? 0 : n.length;
        if (!r)
          return -1;
        var s = r - 1;
        return e !== i && (s = R(e), s = e < 0 ? Q2(r + s, 0) : nn(s, r - 1)), xe(n, x(t, 3), s, true);
      }
      function qu(n) {
        var t = n == null ? 0 : n.length;
        return t ? j2(n, 1) : [];
      }
      function Sh(n) {
        var t = n == null ? 0 : n.length;
        return t ? j2(n, ct) : [];
      }
      function Oh(n, t) {
        var e = n == null ? 0 : n.length;
        return e ? (t = t === i ? 1 : R(t), j2(n, t)) : [];
      }
      function Rh(n) {
        for (var t = -1, e = n == null ? 0 : n.length, r = {}; ++t < e; ) {
          var s = n[t];
          r[s[0]] = s[1];
        }
        return r;
      }
      function Bu(n) {
        return n && n.length ? n[0] : i;
      }
      function bh(n, t, e) {
        var r = n == null ? 0 : n.length;
        if (!r)
          return -1;
        var s = e == null ? 0 : R(e);
        return s < 0 && (s = Q2(r + s, 0)), Rt(n, t, s);
      }
      function Th(n) {
        var t = n == null ? 0 : n.length;
        return t ? Cn(n, 0, -1) : [];
      }
      var Lh = T(function(n) {
        var t = G2(n, ui);
        return t.length && t[0] === n[0] ? Qr(t) : [];
      }), Dh = T(function(n) {
        var t = In(n), e = G2(n, ui);
        return t === In(e) ? t = i : e.pop(), e.length && e[0] === n[0] ? Qr(e, x(t, 2)) : [];
      }), Nh = T(function(n) {
        var t = In(n), e = G2(n, ui);
        return t = typeof t == "function" ? t : i, t && e.pop(), e.length && e[0] === n[0] ? Qr(e, i, t) : [];
      });
      function Hh(n, t) {
        return n == null ? "" : Tf.call(n, t);
      }
      function In(n) {
        var t = n == null ? 0 : n.length;
        return t ? n[t - 1] : i;
      }
      function $h(n, t, e) {
        var r = n == null ? 0 : n.length;
        if (!r)
          return -1;
        var s = r;
        return e !== i && (s = R(e), s = s < 0 ? Q2(r + s, 0) : nn(s, r - 1)), t === t ? gf(n, t, s) : xe(n, Cs, s, true);
      }
      function Uh(n, t) {
        return n && n.length ? js(n, R(t)) : i;
      }
      var Wh = T(Gu);
      function Gu(n, t) {
        return n && n.length && t && t.length ? ni(n, t) : n;
      }
      function Fh(n, t, e) {
        return n && n.length && t && t.length ? ni(n, t, x(e, 2)) : n;
      }
      function Mh(n, t, e) {
        return n && n.length && t && t.length ? ni(n, t, i, e) : n;
      }
      var qh = Zn(function(n, t) {
        var e = n == null ? 0 : n.length, r = Yr(n, t);
        return eu(n, G2(t, function(s) {
          return Jn(s, e) ? +s : s;
        }).sort(lu)), r;
      });
      function Bh(n, t) {
        var e = [];
        if (!(n && n.length))
          return e;
        var r = -1, s = [], o = n.length;
        for (t = x(t, 3); ++r < o; ) {
          var f2 = n[r];
          t(f2, r, n) && (e.push(f2), s.push(r));
        }
        return eu(n, s), e;
      }
      function Pi(n) {
        return n == null ? n : Hf.call(n);
      }
      function Gh(n, t, e) {
        var r = n == null ? 0 : n.length;
        return r ? (e && typeof e != "number" && rn(n, t, e) ? (t = 0, e = r) : (t = t == null ? 0 : R(t), e = e === i ? r : R(e)), Cn(n, t, e)) : [];
      }
      function zh(n, t) {
        return ze(n, t);
      }
      function Kh(n, t, e) {
        return ri(n, t, x(e, 2));
      }
      function Yh(n, t) {
        var e = n == null ? 0 : n.length;
        if (e) {
          var r = ze(n, t);
          if (r < e && bn(n[r], t))
            return r;
        }
        return -1;
      }
      function Zh(n, t) {
        return ze(n, t, true);
      }
      function Jh(n, t, e) {
        return ri(n, t, x(e, 2), true);
      }
      function Xh(n, t) {
        var e = n == null ? 0 : n.length;
        if (e) {
          var r = ze(n, t, true) - 1;
          if (bn(n[r], t))
            return r;
        }
        return -1;
      }
      function Qh(n) {
        return n && n.length ? iu(n) : [];
      }
      function Vh(n, t) {
        return n && n.length ? iu(n, x(t, 2)) : [];
      }
      function kh(n) {
        var t = n == null ? 0 : n.length;
        return t ? Cn(n, 1, t) : [];
      }
      function jh(n, t, e) {
        return n && n.length ? (t = e || t === i ? 1 : R(t), Cn(n, 0, t < 0 ? 0 : t)) : [];
      }
      function nl(n, t, e) {
        var r = n == null ? 0 : n.length;
        return r ? (t = e || t === i ? 1 : R(t), t = r - t, Cn(n, t < 0 ? 0 : t, r)) : [];
      }
      function tl(n, t) {
        return n && n.length ? Ke(n, x(t, 3), false, true) : [];
      }
      function el(n, t) {
        return n && n.length ? Ke(n, x(t, 3)) : [];
      }
      var rl = T(function(n) {
        return it(j2(n, 1, Y, true));
      }), il = T(function(n) {
        var t = In(n);
        return Y(t) && (t = i), it(j2(n, 1, Y, true), x(t, 2));
      }), sl = T(function(n) {
        var t = In(n);
        return t = typeof t == "function" ? t : i, it(j2(n, 1, Y, true), i, t);
      });
      function ul(n) {
        return n && n.length ? it(n) : [];
      }
      function al(n, t) {
        return n && n.length ? it(n, x(t, 2)) : [];
      }
      function ol(n, t) {
        return t = typeof t == "function" ? t : i, n && n.length ? it(n, i, t) : [];
      }
      function Ai(n) {
        if (!(n && n.length))
          return [];
        var t = 0;
        return n = jn(n, function(e) {
          if (Y(e))
            return t = Q2(e.length, t), true;
        }), Wr(t, function(e) {
          return G2(n, Hr(e));
        });
      }
      function zu(n, t) {
        if (!(n && n.length))
          return [];
        var e = Ai(n);
        return t == null ? e : G2(e, function(r) {
          return cn(t, i, r);
        });
      }
      var fl = T(function(n, t) {
        return Y(n) ? se(n, t) : [];
      }), cl = T(function(n) {
        return si(jn(n, Y));
      }), hl = T(function(n) {
        var t = In(n);
        return Y(t) && (t = i), si(jn(n, Y), x(t, 2));
      }), ll = T(function(n) {
        var t = In(n);
        return t = typeof t == "function" ? t : i, si(jn(n, Y), i, t);
      }), pl = T(Ai);
      function dl(n, t) {
        return ou(n || [], t || [], ie);
      }
      function gl(n, t) {
        return ou(n || [], t || [], oe);
      }
      var vl = T(function(n) {
        var t = n.length, e = t > 1 ? n[t - 1] : i;
        return e = typeof e == "function" ? (n.pop(), e) : i, zu(n, e);
      });
      function Ku(n) {
        var t = a(n);
        return t.__chain__ = true, t;
      }
      function _l(n, t) {
        return t(n), n;
      }
      function nr(n, t) {
        return t(n);
      }
      var ml = Zn(function(n) {
        var t = n.length, e = t ? n[0] : 0, r = this.__wrapped__, s = function(o) {
          return Yr(o, n);
        };
        return t > 1 || this.__actions__.length || !(r instanceof N2) || !Jn(e) ? this.thru(s) : (r = r.slice(e, +e + (t ? 1 : 0)), r.__actions__.push({ func: nr, args: [s], thisArg: i }), new Pn(r, this.__chain__).thru(function(o) {
          return t && !o.length && o.push(i), o;
        }));
      });
      function wl() {
        return Ku(this);
      }
      function Pl() {
        return new Pn(this.value(), this.__chain__);
      }
      function Al() {
        this.__values__ === i && (this.__values__ = sa(this.value()));
        var n = this.__index__ >= this.__values__.length, t = n ? i : this.__values__[this.__index__++];
        return { done: n, value: t };
      }
      function Cl() {
        return this;
      }
      function Il(n) {
        for (var t, e = this; e instanceof Fe; ) {
          var r = Wu(e);
          r.__index__ = 0, r.__values__ = i, t ? s.__wrapped__ = r : t = r;
          var s = r;
          e = e.__wrapped__;
        }
        return s.__wrapped__ = n, t;
      }
      function xl() {
        var n = this.__wrapped__;
        if (n instanceof N2) {
          var t = n;
          return this.__actions__.length && (t = new N2(this)), t = t.reverse(), t.__actions__.push({ func: nr, args: [Pi], thisArg: i }), new Pn(t, this.__chain__);
        }
        return this.thru(Pi);
      }
      function El() {
        return au(this.__wrapped__, this.__actions__);
      }
      var yl = Ye(function(n, t, e) {
        W.call(n, e) ? ++n[e] : Kn(n, e, 1);
      });
      function Sl(n, t, e) {
        var r = O2(n) ? Ps : _c;
        return e && rn(n, t, e) && (t = i), r(n, x(t, 3));
      }
      function Ol(n, t) {
        var e = O2(n) ? jn : zs;
        return e(n, x(t, 3));
      }
      var Rl = mu(Fu), bl = mu(Mu);
      function Tl(n, t) {
        return j2(tr(n, t), 1);
      }
      function Ll(n, t) {
        return j2(tr(n, t), ct);
      }
      function Dl(n, t, e) {
        return e = e === i ? 1 : R(e), j2(tr(n, t), e);
      }
      function Yu(n, t) {
        var e = O2(n) ? mn : rt;
        return e(n, x(t, 3));
      }
      function Zu(n, t) {
        var e = O2(n) ? Vo : Gs;
        return e(n, x(t, 3));
      }
      var Nl = Ye(function(n, t, e) {
        W.call(n, e) ? n[e].push(t) : Kn(n, e, [t]);
      });
      function Hl(n, t, e, r) {
        n = an(n) ? n : qt(n), e = e && !r ? R(e) : 0;
        var s = n.length;
        return e < 0 && (e = Q2(s + e, 0)), ur(n) ? e <= s && n.indexOf(t, e) > -1 : !!s && Rt(n, t, e) > -1;
      }
      var $l = T(function(n, t, e) {
        var r = -1, s = typeof t == "function", o = an(n) ? d(n.length) : [];
        return rt(n, function(f2) {
          o[++r] = s ? cn(t, f2, e) : ue(f2, t, e);
        }), o;
      }), Ul = Ye(function(n, t, e) {
        Kn(n, e, t);
      });
      function tr(n, t) {
        var e = O2(n) ? G2 : Qs;
        return e(n, x(t, 3));
      }
      function Wl(n, t, e, r) {
        return n == null ? [] : (O2(t) || (t = t == null ? [] : [t]), e = r ? i : e, O2(e) || (e = e == null ? [] : [e]), nu(n, t, e));
      }
      var Fl = Ye(function(n, t, e) {
        n[e ? 0 : 1].push(t);
      }, function() {
        return [[], []];
      });
      function Ml(n, t, e) {
        var r = O2(n) ? Dr : xs, s = arguments.length < 3;
        return r(n, x(t, 4), e, s, rt);
      }
      function ql(n, t, e) {
        var r = O2(n) ? ko : xs, s = arguments.length < 3;
        return r(n, x(t, 4), e, s, Gs);
      }
      function Bl(n, t) {
        var e = O2(n) ? jn : zs;
        return e(n, ir(x(t, 3)));
      }
      function Gl(n) {
        var t = O2(n) ? Fs : Hc;
        return t(n);
      }
      function zl(n, t, e) {
        (e ? rn(n, t, e) : t === i) ? t = 1 : t = R(t);
        var r = O2(n) ? lc : $c;
        return r(n, t);
      }
      function Kl(n) {
        var t = O2(n) ? pc : Wc;
        return t(n);
      }
      function Yl(n) {
        if (n == null)
          return 0;
        if (an(n))
          return ur(n) ? Tt(n) : n.length;
        var t = tn(n);
        return t == yn || t == Sn ? n.size : kr(n).length;
      }
      function Zl(n, t, e) {
        var r = O2(n) ? Nr : Fc;
        return e && rn(n, t, e) && (t = i), r(n, x(t, 3));
      }
      var Jl = T(function(n, t) {
        if (n == null)
          return [];
        var e = t.length;
        return e > 1 && rn(n, t[0], t[1]) ? t = [] : e > 2 && rn(t[0], t[1], t[2]) && (t = [t[0]]), nu(n, j2(t, 1), []);
      }), er = Of || function() {
        return k.Date.now();
      };
      function Xl(n, t) {
        if (typeof t != "function")
          throw new wn(F);
        return n = R(n), function() {
          if (--n < 1)
            return t.apply(this, arguments);
        };
      }
      function Ju(n, t, e) {
        return t = e ? i : t, t = n && t == null ? n.length : t, Yn(n, qn, i, i, i, i, t);
      }
      function Xu(n, t) {
        var e;
        if (typeof t != "function")
          throw new wn(F);
        return n = R(n), function() {
          return --n > 0 && (e = t.apply(this, arguments)), n <= 1 && (t = i), e;
        };
      }
      var Ci = T(function(n, t, e) {
        var r = vn;
        if (e.length) {
          var s = tt(e, Ft(Ci));
          r |= Nn;
        }
        return Yn(n, r, t, e, s);
      }), Qu = T(function(n, t, e) {
        var r = vn | ft;
        if (e.length) {
          var s = tt(e, Ft(Qu));
          r |= Nn;
        }
        return Yn(t, r, n, e, s);
      });
      function Vu(n, t, e) {
        t = e ? i : t;
        var r = Yn(n, Dn, i, i, i, i, i, t);
        return r.placeholder = Vu.placeholder, r;
      }
      function ku(n, t, e) {
        t = e ? i : t;
        var r = Yn(n, xt, i, i, i, i, i, t);
        return r.placeholder = ku.placeholder, r;
      }
      function ju(n, t, e) {
        var r, s, o, f2, c, l, v2 = 0, _2 = false, m2 = false, w2 = true;
        if (typeof n != "function")
          throw new wn(F);
        t = xn(t) || 0, z(e) && (_2 = !!e.leading, m2 = "maxWait" in e, o = m2 ? Q2(xn(e.maxWait) || 0, t) : o, w2 = "trailing" in e ? !!e.trailing : w2);
        function A(Z) {
          var Tn = r, Vn = s;
          return r = s = i, v2 = Z, f2 = n.apply(Vn, Tn), f2;
        }
        function E2(Z) {
          return v2 = Z, c = he(L2, t), _2 ? A(Z) : f2;
        }
        function b2(Z) {
          var Tn = Z - l, Vn = Z - v2, ma = t - Tn;
          return m2 ? nn(ma, o - Vn) : ma;
        }
        function y2(Z) {
          var Tn = Z - l, Vn = Z - v2;
          return l === i || Tn >= t || Tn < 0 || m2 && Vn >= o;
        }
        function L2() {
          var Z = er();
          if (y2(Z))
            return H2(Z);
          c = he(L2, b2(Z));
        }
        function H2(Z) {
          return c = i, w2 && r ? A(Z) : (r = s = i, f2);
        }
        function dn() {
          c !== i && fu(c), v2 = 0, r = l = s = c = i;
        }
        function sn() {
          return c === i ? f2 : H2(er());
        }
        function gn() {
          var Z = er(), Tn = y2(Z);
          if (r = arguments, s = this, l = Z, Tn) {
            if (c === i)
              return E2(l);
            if (m2)
              return fu(c), c = he(L2, t), A(l);
          }
          return c === i && (c = he(L2, t)), f2;
        }
        return gn.cancel = dn, gn.flush = sn, gn;
      }
      var Ql = T(function(n, t) {
        return Bs(n, 1, t);
      }), Vl = T(function(n, t, e) {
        return Bs(n, xn(t) || 0, e);
      });
      function kl(n) {
        return Yn(n, pr);
      }
      function rr(n, t) {
        if (typeof n != "function" || t != null && typeof t != "function")
          throw new wn(F);
        var e = function() {
          var r = arguments, s = t ? t.apply(this, r) : r[0], o = e.cache;
          if (o.has(s))
            return o.get(s);
          var f2 = n.apply(this, r);
          return e.cache = o.set(s, f2) || o, f2;
        };
        return e.cache = new (rr.Cache || zn)(), e;
      }
      rr.Cache = zn;
      function ir(n) {
        if (typeof n != "function")
          throw new wn(F);
        return function() {
          var t = arguments;
          switch (t.length) {
            case 0:
              return !n.call(this);
            case 1:
              return !n.call(this, t[0]);
            case 2:
              return !n.call(this, t[0], t[1]);
            case 3:
              return !n.call(this, t[0], t[1], t[2]);
          }
          return !n.apply(this, t);
        };
      }
      function jl(n) {
        return Xu(2, n);
      }
      var np = Mc(function(n, t) {
        t = t.length == 1 && O2(t[0]) ? G2(t[0], hn(x())) : G2(j2(t, 1), hn(x()));
        var e = t.length;
        return T(function(r) {
          for (var s = -1, o = nn(r.length, e); ++s < o; )
            r[s] = t[s].call(this, r[s]);
          return cn(n, this, r);
        });
      }), Ii = T(function(n, t) {
        var e = tt(t, Ft(Ii));
        return Yn(n, Nn, i, t, e);
      }), na = T(function(n, t) {
        var e = tt(t, Ft(na));
        return Yn(n, Et, i, t, e);
      }), tp = Zn(function(n, t) {
        return Yn(n, zt, i, i, i, t);
      });
      function ep(n, t) {
        if (typeof n != "function")
          throw new wn(F);
        return t = t === i ? t : R(t), T(n, t);
      }
      function rp(n, t) {
        if (typeof n != "function")
          throw new wn(F);
        return t = t == null ? 0 : Q2(R(t), 0), T(function(e) {
          var r = e[t], s = ut(e, 0, t);
          return r && nt(s, r), cn(n, this, s);
        });
      }
      function ip(n, t, e) {
        var r = true, s = true;
        if (typeof n != "function")
          throw new wn(F);
        return z(e) && (r = "leading" in e ? !!e.leading : r, s = "trailing" in e ? !!e.trailing : s), ju(n, t, { leading: r, maxWait: t, trailing: s });
      }
      function sp(n) {
        return Ju(n, 1);
      }
      function up(n, t) {
        return Ii(ai(t), n);
      }
      function ap() {
        if (!arguments.length)
          return [];
        var n = arguments[0];
        return O2(n) ? n : [n];
      }
      function op(n) {
        return An(n, Ct);
      }
      function fp(n, t) {
        return t = typeof t == "function" ? t : i, An(n, Ct, t);
      }
      function cp(n) {
        return An(n, Ln | Ct);
      }
      function hp(n, t) {
        return t = typeof t == "function" ? t : i, An(n, Ln | Ct, t);
      }
      function lp(n, t) {
        return t == null || qs(n, t, V(t));
      }
      function bn(n, t) {
        return n === t || n !== n && t !== t;
      }
      var pp = Qe(Xr), dp = Qe(function(n, t) {
        return n >= t;
      }), wt = Zs(function() {
        return arguments;
      }()) ? Zs : function(n) {
        return K(n) && W.call(n, "callee") && !Ds.call(n, "callee");
      }, O2 = d.isArray, gp = ds ? hn(ds) : Ic;
      function an(n) {
        return n != null && sr(n.length) && !Xn(n);
      }
      function Y(n) {
        return K(n) && an(n);
      }
      function vp(n) {
        return n === true || n === false || K(n) && en(n) == Kt;
      }
      var at = bf || Ni, _p = gs ? hn(gs) : xc;
      function mp(n) {
        return K(n) && n.nodeType === 1 && !le(n);
      }
      function wp(n) {
        if (n == null)
          return true;
        if (an(n) && (O2(n) || typeof n == "string" || typeof n.splice == "function" || at(n) || Mt(n) || wt(n)))
          return !n.length;
        var t = tn(n);
        if (t == yn || t == Sn)
          return !n.size;
        if (ce(n))
          return !kr(n).length;
        for (var e in n)
          if (W.call(n, e))
            return false;
        return true;
      }
      function Pp(n, t) {
        return ae(n, t);
      }
      function Ap(n, t, e) {
        e = typeof e == "function" ? e : i;
        var r = e ? e(n, t) : i;
        return r === i ? ae(n, t, i, e) : !!r;
      }
      function xi(n) {
        if (!K(n))
          return false;
        var t = en(n);
        return t == _e || t == Ba || typeof n.message == "string" && typeof n.name == "string" && !le(n);
      }
      function Cp(n) {
        return typeof n == "number" && Hs(n);
      }
      function Xn(n) {
        if (!z(n))
          return false;
        var t = en(n);
        return t == me || t == Bi || t == qa || t == za;
      }
      function ta(n) {
        return typeof n == "number" && n == R(n);
      }
      function sr(n) {
        return typeof n == "number" && n > -1 && n % 1 == 0 && n <= kn;
      }
      function z(n) {
        var t = typeof n;
        return n != null && (t == "object" || t == "function");
      }
      function K(n) {
        return n != null && typeof n == "object";
      }
      var ea = vs ? hn(vs) : yc;
      function Ip(n, t) {
        return n === t || Vr(n, t, di(t));
      }
      function xp(n, t, e) {
        return e = typeof e == "function" ? e : i, Vr(n, t, di(t), e);
      }
      function Ep(n) {
        return ra(n) && n != +n;
      }
      function yp(n) {
        if (fh(n))
          throw new S3(D2);
        return Js(n);
      }
      function Sp(n) {
        return n === null;
      }
      function Op(n) {
        return n == null;
      }
      function ra(n) {
        return typeof n == "number" || K(n) && en(n) == Zt;
      }
      function le(n) {
        if (!K(n) || en(n) != Bn)
          return false;
        var t = Le(n);
        if (t === null)
          return true;
        var e = W.call(t, "constructor") && t.constructor;
        return typeof e == "function" && e instanceof e && Oe.call(e) == xf;
      }
      var Ei = _s ? hn(_s) : Sc;
      function Rp(n) {
        return ta(n) && n >= -kn && n <= kn;
      }
      var ia = ms ? hn(ms) : Oc;
      function ur(n) {
        return typeof n == "string" || !O2(n) && K(n) && en(n) == Xt;
      }
      function pn(n) {
        return typeof n == "symbol" || K(n) && en(n) == we;
      }
      var Mt = ws ? hn(ws) : Rc;
      function bp(n) {
        return n === i;
      }
      function Tp(n) {
        return K(n) && tn(n) == Qt;
      }
      function Lp(n) {
        return K(n) && en(n) == Ya;
      }
      var Dp = Qe(jr), Np = Qe(function(n, t) {
        return n <= t;
      });
      function sa(n) {
        if (!n)
          return [];
        if (an(n))
          return ur(n) ? On2(n) : un(n);
        if (jt && n[jt])
          return lf(n[jt]());
        var t = tn(n), e = t == yn ? Mr : t == Sn ? Ee : qt;
        return e(n);
      }
      function Qn(n) {
        if (!n)
          return n === 0 ? n : 0;
        if (n = xn(n), n === ct || n === -ct) {
          var t = n < 0 ? -1 : 1;
          return t * Ua;
        }
        return n === n ? n : 0;
      }
      function R(n) {
        var t = Qn(n), e = t % 1;
        return t === t ? e ? t - e : t : 0;
      }
      function ua(n) {
        return n ? gt(R(n), 0, Hn) : 0;
      }
      function xn(n) {
        if (typeof n == "number")
          return n;
        if (pn(n))
          return ge;
        if (z(n)) {
          var t = typeof n.valueOf == "function" ? n.valueOf() : n;
          n = z(t) ? t + "" : t;
        }
        if (typeof n != "string")
          return n === 0 ? n : +n;
        n = Es(n);
        var e = po.test(n);
        return e || vo.test(n) ? Jo(n.slice(2), e ? 2 : 8) : lo.test(n) ? ge : +n;
      }
      function aa(n) {
        return Un(n, on(n));
      }
      function Hp(n) {
        return n ? gt(R(n), -kn, kn) : n === 0 ? n : 0;
      }
      function U2(n) {
        return n == null ? "" : ln(n);
      }
      var $p = Ut(function(n, t) {
        if (ce(t) || an(t)) {
          Un(t, V(t), n);
          return;
        }
        for (var e in t)
          W.call(t, e) && ie(n, e, t[e]);
      }), oa = Ut(function(n, t) {
        Un(t, on(t), n);
      }), ar = Ut(function(n, t, e, r) {
        Un(t, on(t), n, r);
      }), Up = Ut(function(n, t, e, r) {
        Un(t, V(t), n, r);
      }), Wp = Zn(Yr);
      function Fp(n, t) {
        var e = $t(n);
        return t == null ? e : Ms(e, t);
      }
      var Mp = T(function(n, t) {
        n = M3(n);
        var e = -1, r = t.length, s = r > 2 ? t[2] : i;
        for (s && rn(t[0], t[1], s) && (r = 1); ++e < r; )
          for (var o = t[e], f2 = on(o), c = -1, l = f2.length; ++c < l; ) {
            var v2 = f2[c], _2 = n[v2];
            (_2 === i || bn(_2, Dt[v2]) && !W.call(n, v2)) && (n[v2] = o[v2]);
          }
        return n;
      }), qp = T(function(n) {
        return n.push(i, Eu), cn(fa, i, n);
      });
      function Bp(n, t) {
        return As(n, x(t, 3), $n);
      }
      function Gp(n, t) {
        return As(n, x(t, 3), Jr);
      }
      function zp(n, t) {
        return n == null ? n : Zr(n, x(t, 3), on);
      }
      function Kp(n, t) {
        return n == null ? n : Ks(n, x(t, 3), on);
      }
      function Yp(n, t) {
        return n && $n(n, x(t, 3));
      }
      function Zp(n, t) {
        return n && Jr(n, x(t, 3));
      }
      function Jp(n) {
        return n == null ? [] : Be(n, V(n));
      }
      function Xp(n) {
        return n == null ? [] : Be(n, on(n));
      }
      function yi(n, t, e) {
        var r = n == null ? i : vt(n, t);
        return r === i ? e : r;
      }
      function Qp(n, t) {
        return n != null && Ou(n, t, wc);
      }
      function Si(n, t) {
        return n != null && Ou(n, t, Pc);
      }
      var Vp = Pu(function(n, t, e) {
        t != null && typeof t.toString != "function" && (t = Re.call(t)), n[t] = e;
      }, Ri(fn)), kp = Pu(function(n, t, e) {
        t != null && typeof t.toString != "function" && (t = Re.call(t)), W.call(n, t) ? n[t].push(e) : n[t] = [e];
      }, x), jp = T(ue);
      function V(n) {
        return an(n) ? Ws(n) : kr(n);
      }
      function on(n) {
        return an(n) ? Ws(n, true) : bc(n);
      }
      function nd(n, t) {
        var e = {};
        return t = x(t, 3), $n(n, function(r, s, o) {
          Kn(e, t(r, s, o), r);
        }), e;
      }
      function td(n, t) {
        var e = {};
        return t = x(t, 3), $n(n, function(r, s, o) {
          Kn(e, s, t(r, s, o));
        }), e;
      }
      var ed = Ut(function(n, t, e) {
        Ge(n, t, e);
      }), fa = Ut(function(n, t, e, r) {
        Ge(n, t, e, r);
      }), rd = Zn(function(n, t) {
        var e = {};
        if (n == null)
          return e;
        var r = false;
        t = G2(t, function(o) {
          return o = st(o, n), r || (r = o.length > 1), o;
        }), Un(n, li(n), e), r && (e = An(e, Ln | Mn | Ct, Vc));
        for (var s = t.length; s--; )
          ii(e, t[s]);
        return e;
      });
      function id(n, t) {
        return ca(n, ir(x(t)));
      }
      var sd = Zn(function(n, t) {
        return n == null ? {} : Lc(n, t);
      });
      function ca(n, t) {
        if (n == null)
          return {};
        var e = G2(li(n), function(r) {
          return [r];
        });
        return t = x(t), tu(n, e, function(r, s) {
          return t(r, s[0]);
        });
      }
      function ud(n, t, e) {
        t = st(t, n);
        var r = -1, s = t.length;
        for (s || (s = 1, n = i); ++r < s; ) {
          var o = n == null ? i : n[Wn(t[r])];
          o === i && (r = s, o = e), n = Xn(o) ? o.call(n) : o;
        }
        return n;
      }
      function ad(n, t, e) {
        return n == null ? n : oe(n, t, e);
      }
      function od(n, t, e, r) {
        return r = typeof r == "function" ? r : i, n == null ? n : oe(n, t, e, r);
      }
      var ha = Iu(V), la = Iu(on);
      function fd(n, t, e) {
        var r = O2(n), s = r || at(n) || Mt(n);
        if (t = x(t, 4), e == null) {
          var o = n && n.constructor;
          s ? e = r ? new o() : [] : z(n) ? e = Xn(o) ? $t(Le(n)) : {} : e = {};
        }
        return (s ? mn : $n)(n, function(f2, c, l) {
          return t(e, f2, c, l);
        }), e;
      }
      function cd(n, t) {
        return n == null ? true : ii(n, t);
      }
      function hd(n, t, e) {
        return n == null ? n : uu(n, t, ai(e));
      }
      function ld(n, t, e, r) {
        return r = typeof r == "function" ? r : i, n == null ? n : uu(n, t, ai(e), r);
      }
      function qt(n) {
        return n == null ? [] : Fr(n, V(n));
      }
      function pd(n) {
        return n == null ? [] : Fr(n, on(n));
      }
      function dd(n, t, e) {
        return e === i && (e = t, t = i), e !== i && (e = xn(e), e = e === e ? e : 0), t !== i && (t = xn(t), t = t === t ? t : 0), gt(xn(n), t, e);
      }
      function gd(n, t, e) {
        return t = Qn(t), e === i ? (e = t, t = 0) : e = Qn(e), n = xn(n), Ac(n, t, e);
      }
      function vd(n, t, e) {
        if (e && typeof e != "boolean" && rn(n, t, e) && (t = e = i), e === i && (typeof t == "boolean" ? (e = t, t = i) : typeof n == "boolean" && (e = n, n = i)), n === i && t === i ? (n = 0, t = 1) : (n = Qn(n), t === i ? (t = n, n = 0) : t = Qn(t)), n > t) {
          var r = n;
          n = t, t = r;
        }
        if (e || n % 1 || t % 1) {
          var s = $s();
          return nn(n + s * (t - n + Zo("1e-" + ((s + "").length - 1))), t);
        }
        return ti(n, t);
      }
      var _d = Wt(function(n, t, e) {
        return t = t.toLowerCase(), n + (e ? pa(t) : t);
      });
      function pa(n) {
        return Oi(U2(n).toLowerCase());
      }
      function da(n) {
        return n = U2(n), n && n.replace(mo, af).replace(Uo, "");
      }
      function md(n, t, e) {
        n = U2(n), t = ln(t);
        var r = n.length;
        e = e === i ? r : gt(R(e), 0, r);
        var s = e;
        return e -= t.length, e >= 0 && n.slice(e, s) == t;
      }
      function wd(n) {
        return n = U2(n), n && Va.test(n) ? n.replace(Ki, of) : n;
      }
      function Pd(n) {
        return n = U2(n), n && ro.test(n) ? n.replace(Ir, "\\$&") : n;
      }
      var Ad = Wt(function(n, t, e) {
        return n + (e ? "-" : "") + t.toLowerCase();
      }), Cd = Wt(function(n, t, e) {
        return n + (e ? " " : "") + t.toLowerCase();
      }), Id = _u("toLowerCase");
      function xd(n, t, e) {
        n = U2(n), t = R(t);
        var r = t ? Tt(n) : 0;
        if (!t || r >= t)
          return n;
        var s = (t - r) / 2;
        return Xe($e(s), e) + n + Xe(He(s), e);
      }
      function Ed(n, t, e) {
        n = U2(n), t = R(t);
        var r = t ? Tt(n) : 0;
        return t && r < t ? n + Xe(t - r, e) : n;
      }
      function yd(n, t, e) {
        n = U2(n), t = R(t);
        var r = t ? Tt(n) : 0;
        return t && r < t ? Xe(t - r, e) + n : n;
      }
      function Sd(n, t, e) {
        return e || t == null ? t = 0 : t && (t = +t), Nf(U2(n).replace(xr, ""), t || 0);
      }
      function Od(n, t, e) {
        return (e ? rn(n, t, e) : t === i) ? t = 1 : t = R(t), ei(U2(n), t);
      }
      function Rd() {
        var n = arguments, t = U2(n[0]);
        return n.length < 3 ? t : t.replace(n[1], n[2]);
      }
      var bd = Wt(function(n, t, e) {
        return n + (e ? "_" : "") + t.toLowerCase();
      });
      function Td(n, t, e) {
        return e && typeof e != "number" && rn(n, t, e) && (t = e = i), e = e === i ? Hn : e >>> 0, e ? (n = U2(n), n && (typeof t == "string" || t != null && !Ei(t)) && (t = ln(t), !t && bt(n)) ? ut(On2(n), 0, e) : n.split(t, e)) : [];
      }
      var Ld = Wt(function(n, t, e) {
        return n + (e ? " " : "") + Oi(t);
      });
      function Dd(n, t, e) {
        return n = U2(n), e = e == null ? 0 : gt(R(e), 0, n.length), t = ln(t), n.slice(e, e + t.length) == t;
      }
      function Nd(n, t, e) {
        var r = a.templateSettings;
        e && rn(n, t, e) && (t = i), n = U2(n), t = ar({}, t, r, xu);
        var s = ar({}, t.imports, r.imports, xu), o = V(s), f2 = Fr(s, o), c, l, v2 = 0, _2 = t.interpolate || Pe, m2 = "__p += '", w2 = qr((t.escape || Pe).source + "|" + _2.source + "|" + (_2 === Yi ? ho : Pe).source + "|" + (t.evaluate || Pe).source + "|$", "g"), A = "//# sourceURL=" + (W.call(t, "sourceURL") ? (t.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++Bo + "]") + `
`;
        n.replace(w2, function(y2, L2, H2, dn, sn, gn) {
          return H2 || (H2 = dn), m2 += n.slice(v2, gn).replace(wo, ff), L2 && (c = true, m2 += `' +
__e(` + L2 + `) +
'`), sn && (l = true, m2 += `';
` + sn + `;
__p += '`), H2 && (m2 += `' +
((__t = (` + H2 + `)) == null ? '' : __t) +
'`), v2 = gn + y2.length, y2;
        }), m2 += `';
`;
        var E2 = W.call(t, "variable") && t.variable;
        if (!E2)
          m2 = `with (obj) {
` + m2 + `
}
`;
        else if (fo.test(E2))
          throw new S3(Fn);
        m2 = (l ? m2.replace(Za, "") : m2).replace(Ja, "$1").replace(Xa, "$1;"), m2 = "function(" + (E2 || "obj") + `) {
` + (E2 ? "" : `obj || (obj = {});
`) + "var __t, __p = ''" + (c ? ", __e = _.escape" : "") + (l ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
` : `;
`) + m2 + `return __p
}`;
        var b2 = va(function() {
          return $2(o, A + "return " + m2).apply(i, f2);
        });
        if (b2.source = m2, xi(b2))
          throw b2;
        return b2;
      }
      function Hd(n) {
        return U2(n).toLowerCase();
      }
      function $d(n) {
        return U2(n).toUpperCase();
      }
      function Ud(n, t, e) {
        if (n = U2(n), n && (e || t === i))
          return Es(n);
        if (!n || !(t = ln(t)))
          return n;
        var r = On2(n), s = On2(t), o = ys(r, s), f2 = Ss(r, s) + 1;
        return ut(r, o, f2).join("");
      }
      function Wd(n, t, e) {
        if (n = U2(n), n && (e || t === i))
          return n.slice(0, Rs(n) + 1);
        if (!n || !(t = ln(t)))
          return n;
        var r = On2(n), s = Ss(r, On2(t)) + 1;
        return ut(r, 0, s).join("");
      }
      function Fd(n, t, e) {
        if (n = U2(n), n && (e || t === i))
          return n.replace(xr, "");
        if (!n || !(t = ln(t)))
          return n;
        var r = On2(n), s = ys(r, On2(t));
        return ut(r, s).join("");
      }
      function Md(n, t) {
        var e = Ta, r = La;
        if (z(t)) {
          var s = "separator" in t ? t.separator : s;
          e = "length" in t ? R(t.length) : e, r = "omission" in t ? ln(t.omission) : r;
        }
        n = U2(n);
        var o = n.length;
        if (bt(n)) {
          var f2 = On2(n);
          o = f2.length;
        }
        if (e >= o)
          return n;
        var c = e - Tt(r);
        if (c < 1)
          return r;
        var l = f2 ? ut(f2, 0, c).join("") : n.slice(0, c);
        if (s === i)
          return l + r;
        if (f2 && (c += l.length - c), Ei(s)) {
          if (n.slice(c).search(s)) {
            var v2, _2 = l;
            for (s.global || (s = qr(s.source, U2(Zi.exec(s)) + "g")), s.lastIndex = 0; v2 = s.exec(_2); )
              var m2 = v2.index;
            l = l.slice(0, m2 === i ? c : m2);
          }
        } else if (n.indexOf(ln(s), c) != c) {
          var w2 = l.lastIndexOf(s);
          w2 > -1 && (l = l.slice(0, w2));
        }
        return l + r;
      }
      function qd(n) {
        return n = U2(n), n && Qa.test(n) ? n.replace(zi, vf) : n;
      }
      var Bd = Wt(function(n, t, e) {
        return n + (e ? " " : "") + t.toUpperCase();
      }), Oi = _u("toUpperCase");
      function ga(n, t, e) {
        return n = U2(n), t = e ? i : t, t === i ? hf(n) ? wf(n) : tf(n) : n.match(t) || [];
      }
      var va = T(function(n, t) {
        try {
          return cn(n, i, t);
        } catch (e) {
          return xi(e) ? e : new S3(e);
        }
      }), Gd = Zn(function(n, t) {
        return mn(t, function(e) {
          e = Wn(e), Kn(n, e, Ci(n[e], n));
        }), n;
      });
      function zd(n) {
        var t = n == null ? 0 : n.length, e = x();
        return n = t ? G2(n, function(r) {
          if (typeof r[1] != "function")
            throw new wn(F);
          return [e(r[0]), r[1]];
        }) : [], T(function(r) {
          for (var s = -1; ++s < t; ) {
            var o = n[s];
            if (cn(o[0], this, r))
              return cn(o[1], this, r);
          }
        });
      }
      function Kd(n) {
        return vc(An(n, Ln));
      }
      function Ri(n) {
        return function() {
          return n;
        };
      }
      function Yd(n, t) {
        return n == null || n !== n ? t : n;
      }
      var Zd = wu(), Jd = wu(true);
      function fn(n) {
        return n;
      }
      function bi(n) {
        return Xs(typeof n == "function" ? n : An(n, Ln));
      }
      function Xd(n) {
        return Vs(An(n, Ln));
      }
      function Qd(n, t) {
        return ks(n, An(t, Ln));
      }
      var Vd = T(function(n, t) {
        return function(e) {
          return ue(e, n, t);
        };
      }), kd = T(function(n, t) {
        return function(e) {
          return ue(n, e, t);
        };
      });
      function Ti(n, t, e) {
        var r = V(t), s = Be(t, r);
        e == null && !(z(t) && (s.length || !r.length)) && (e = t, t = n, n = this, s = Be(t, V(t)));
        var o = !(z(e) && "chain" in e) || !!e.chain, f2 = Xn(n);
        return mn(s, function(c) {
          var l = t[c];
          n[c] = l, f2 && (n.prototype[c] = function() {
            var v2 = this.__chain__;
            if (o || v2) {
              var _2 = n(this.__wrapped__), m2 = _2.__actions__ = un(this.__actions__);
              return m2.push({ func: l, args: arguments, thisArg: n }), _2.__chain__ = v2, _2;
            }
            return l.apply(n, nt([this.value()], arguments));
          });
        }), n;
      }
      function jd() {
        return k._ === this && (k._ = Ef), this;
      }
      function Li() {
      }
      function ng(n) {
        return n = R(n), T(function(t) {
          return js(t, n);
        });
      }
      var tg = fi(G2), eg = fi(Ps), rg = fi(Nr);
      function _a(n) {
        return vi(n) ? Hr(Wn(n)) : Dc(n);
      }
      function ig(n) {
        return function(t) {
          return n == null ? i : vt(n, t);
        };
      }
      var sg = Au(), ug = Au(true);
      function Di() {
        return [];
      }
      function Ni() {
        return false;
      }
      function ag() {
        return {};
      }
      function og() {
        return "";
      }
      function fg() {
        return true;
      }
      function cg(n, t) {
        if (n = R(n), n < 1 || n > kn)
          return [];
        var e = Hn, r = nn(n, Hn);
        t = x(t), n -= Hn;
        for (var s = Wr(r, t); ++e < n; )
          t(e);
        return s;
      }
      function hg(n) {
        return O2(n) ? G2(n, Wn) : pn(n) ? [n] : un(Uu(U2(n)));
      }
      function lg(n) {
        var t = ++If;
        return U2(n) + t;
      }
      var pg = Je(function(n, t) {
        return n + t;
      }, 0), dg = ci("ceil"), gg = Je(function(n, t) {
        return n / t;
      }, 1), vg = ci("floor");
      function _g(n) {
        return n && n.length ? qe(n, fn, Xr) : i;
      }
      function mg(n, t) {
        return n && n.length ? qe(n, x(t, 2), Xr) : i;
      }
      function wg(n) {
        return Is(n, fn);
      }
      function Pg(n, t) {
        return Is(n, x(t, 2));
      }
      function Ag(n) {
        return n && n.length ? qe(n, fn, jr) : i;
      }
      function Cg(n, t) {
        return n && n.length ? qe(n, x(t, 2), jr) : i;
      }
      var Ig = Je(function(n, t) {
        return n * t;
      }, 1), xg = ci("round"), Eg = Je(function(n, t) {
        return n - t;
      }, 0);
      function yg(n) {
        return n && n.length ? Ur(n, fn) : 0;
      }
      function Sg(n, t) {
        return n && n.length ? Ur(n, x(t, 2)) : 0;
      }
      return a.after = Xl, a.ary = Ju, a.assign = $p, a.assignIn = oa, a.assignInWith = ar, a.assignWith = Up, a.at = Wp, a.before = Xu, a.bind = Ci, a.bindAll = Gd, a.bindKey = Qu, a.castArray = ap, a.chain = Ku, a.chunk = vh, a.compact = _h, a.concat = mh, a.cond = zd, a.conforms = Kd, a.constant = Ri, a.countBy = yl, a.create = Fp, a.curry = Vu, a.curryRight = ku, a.debounce = ju, a.defaults = Mp, a.defaultsDeep = qp, a.defer = Ql, a.delay = Vl, a.difference = wh, a.differenceBy = Ph, a.differenceWith = Ah, a.drop = Ch, a.dropRight = Ih, a.dropRightWhile = xh, a.dropWhile = Eh, a.fill = yh, a.filter = Ol, a.flatMap = Tl, a.flatMapDeep = Ll, a.flatMapDepth = Dl, a.flatten = qu, a.flattenDeep = Sh, a.flattenDepth = Oh, a.flip = kl, a.flow = Zd, a.flowRight = Jd, a.fromPairs = Rh, a.functions = Jp, a.functionsIn = Xp, a.groupBy = Nl, a.initial = Th, a.intersection = Lh, a.intersectionBy = Dh, a.intersectionWith = Nh, a.invert = Vp, a.invertBy = kp, a.invokeMap = $l, a.iteratee = bi, a.keyBy = Ul, a.keys = V, a.keysIn = on, a.map = tr, a.mapKeys = nd, a.mapValues = td, a.matches = Xd, a.matchesProperty = Qd, a.memoize = rr, a.merge = ed, a.mergeWith = fa, a.method = Vd, a.methodOf = kd, a.mixin = Ti, a.negate = ir, a.nthArg = ng, a.omit = rd, a.omitBy = id, a.once = jl, a.orderBy = Wl, a.over = tg, a.overArgs = np, a.overEvery = eg, a.overSome = rg, a.partial = Ii, a.partialRight = na, a.partition = Fl, a.pick = sd, a.pickBy = ca, a.property = _a, a.propertyOf = ig, a.pull = Wh, a.pullAll = Gu, a.pullAllBy = Fh, a.pullAllWith = Mh, a.pullAt = qh, a.range = sg, a.rangeRight = ug, a.rearg = tp, a.reject = Bl, a.remove = Bh, a.rest = ep, a.reverse = Pi, a.sampleSize = zl, a.set = ad, a.setWith = od, a.shuffle = Kl, a.slice = Gh, a.sortBy = Jl, a.sortedUniq = Qh, a.sortedUniqBy = Vh, a.split = Td, a.spread = rp, a.tail = kh, a.take = jh, a.takeRight = nl, a.takeRightWhile = tl, a.takeWhile = el, a.tap = _l, a.throttle = ip, a.thru = nr, a.toArray = sa, a.toPairs = ha, a.toPairsIn = la, a.toPath = hg, a.toPlainObject = aa, a.transform = fd, a.unary = sp, a.union = rl, a.unionBy = il, a.unionWith = sl, a.uniq = ul, a.uniqBy = al, a.uniqWith = ol, a.unset = cd, a.unzip = Ai, a.unzipWith = zu, a.update = hd, a.updateWith = ld, a.values = qt, a.valuesIn = pd, a.without = fl, a.words = ga, a.wrap = up, a.xor = cl, a.xorBy = hl, a.xorWith = ll, a.zip = pl, a.zipObject = dl, a.zipObjectDeep = gl, a.zipWith = vl, a.entries = ha, a.entriesIn = la, a.extend = oa, a.extendWith = ar, Ti(a, a), a.add = pg, a.attempt = va, a.camelCase = _d, a.capitalize = pa, a.ceil = dg, a.clamp = dd, a.clone = op, a.cloneDeep = cp, a.cloneDeepWith = hp, a.cloneWith = fp, a.conformsTo = lp, a.deburr = da, a.defaultTo = Yd, a.divide = gg, a.endsWith = md, a.eq = bn, a.escape = wd, a.escapeRegExp = Pd, a.every = Sl, a.find = Rl, a.findIndex = Fu, a.findKey = Bp, a.findLast = bl, a.findLastIndex = Mu, a.findLastKey = Gp, a.floor = vg, a.forEach = Yu, a.forEachRight = Zu, a.forIn = zp, a.forInRight = Kp, a.forOwn = Yp, a.forOwnRight = Zp, a.get = yi, a.gt = pp, a.gte = dp, a.has = Qp, a.hasIn = Si, a.head = Bu, a.identity = fn, a.includes = Hl, a.indexOf = bh, a.inRange = gd, a.invoke = jp, a.isArguments = wt, a.isArray = O2, a.isArrayBuffer = gp, a.isArrayLike = an, a.isArrayLikeObject = Y, a.isBoolean = vp, a.isBuffer = at, a.isDate = _p, a.isElement = mp, a.isEmpty = wp, a.isEqual = Pp, a.isEqualWith = Ap, a.isError = xi, a.isFinite = Cp, a.isFunction = Xn, a.isInteger = ta, a.isLength = sr, a.isMap = ea, a.isMatch = Ip, a.isMatchWith = xp, a.isNaN = Ep, a.isNative = yp, a.isNil = Op, a.isNull = Sp, a.isNumber = ra, a.isObject = z, a.isObjectLike = K, a.isPlainObject = le, a.isRegExp = Ei, a.isSafeInteger = Rp, a.isSet = ia, a.isString = ur, a.isSymbol = pn, a.isTypedArray = Mt, a.isUndefined = bp, a.isWeakMap = Tp, a.isWeakSet = Lp, a.join = Hh, a.kebabCase = Ad, a.last = In, a.lastIndexOf = $h, a.lowerCase = Cd, a.lowerFirst = Id, a.lt = Dp, a.lte = Np, a.max = _g, a.maxBy = mg, a.mean = wg, a.meanBy = Pg, a.min = Ag, a.minBy = Cg, a.stubArray = Di, a.stubFalse = Ni, a.stubObject = ag, a.stubString = og, a.stubTrue = fg, a.multiply = Ig, a.nth = Uh, a.noConflict = jd, a.noop = Li, a.now = er, a.pad = xd, a.padEnd = Ed, a.padStart = yd, a.parseInt = Sd, a.random = vd, a.reduce = Ml, a.reduceRight = ql, a.repeat = Od, a.replace = Rd, a.result = ud, a.round = xg, a.runInContext = h, a.sample = Gl, a.size = Yl, a.snakeCase = bd, a.some = Zl, a.sortedIndex = zh, a.sortedIndexBy = Kh, a.sortedIndexOf = Yh, a.sortedLastIndex = Zh, a.sortedLastIndexBy = Jh, a.sortedLastIndexOf = Xh, a.startCase = Ld, a.startsWith = Dd, a.subtract = Eg, a.sum = yg, a.sumBy = Sg, a.template = Nd, a.times = cg, a.toFinite = Qn, a.toInteger = R, a.toLength = ua, a.toLower = Hd, a.toNumber = xn, a.toSafeInteger = Hp, a.toString = U2, a.toUpper = $d, a.trim = Ud, a.trimEnd = Wd, a.trimStart = Fd, a.truncate = Md, a.unescape = qd, a.uniqueId = lg, a.upperCase = Bd, a.upperFirst = Oi, a.each = Yu, a.eachRight = Zu, a.first = Bu, Ti(a, function() {
        var n = {};
        return $n(a, function(t, e) {
          W.call(a.prototype, e) || (n[e] = t);
        }), n;
      }(), { chain: false }), a.VERSION = p2, mn(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(n) {
        a[n].placeholder = a;
      }), mn(["drop", "take"], function(n, t) {
        N2.prototype[n] = function(e) {
          e = e === i ? 1 : Q2(R(e), 0);
          var r = this.__filtered__ && !t ? new N2(this) : this.clone();
          return r.__filtered__ ? r.__takeCount__ = nn(e, r.__takeCount__) : r.__views__.push({ size: nn(e, Hn), type: n + (r.__dir__ < 0 ? "Right" : "") }), r;
        }, N2.prototype[n + "Right"] = function(e) {
          return this.reverse()[n](e).reverse();
        };
      }), mn(["filter", "map", "takeWhile"], function(n, t) {
        var e = t + 1, r = e == qi || e == $a;
        N2.prototype[n] = function(s) {
          var o = this.clone();
          return o.__iteratees__.push({ iteratee: x(s, 3), type: e }), o.__filtered__ = o.__filtered__ || r, o;
        };
      }), mn(["head", "last"], function(n, t) {
        var e = "take" + (t ? "Right" : "");
        N2.prototype[n] = function() {
          return this[e](1).value()[0];
        };
      }), mn(["initial", "tail"], function(n, t) {
        var e = "drop" + (t ? "" : "Right");
        N2.prototype[n] = function() {
          return this.__filtered__ ? new N2(this) : this[e](1);
        };
      }), N2.prototype.compact = function() {
        return this.filter(fn);
      }, N2.prototype.find = function(n) {
        return this.filter(n).head();
      }, N2.prototype.findLast = function(n) {
        return this.reverse().find(n);
      }, N2.prototype.invokeMap = T(function(n, t) {
        return typeof n == "function" ? new N2(this) : this.map(function(e) {
          return ue(e, n, t);
        });
      }), N2.prototype.reject = function(n) {
        return this.filter(ir(x(n)));
      }, N2.prototype.slice = function(n, t) {
        n = R(n);
        var e = this;
        return e.__filtered__ && (n > 0 || t < 0) ? new N2(e) : (n < 0 ? e = e.takeRight(-n) : n && (e = e.drop(n)), t !== i && (t = R(t), e = t < 0 ? e.dropRight(-t) : e.take(t - n)), e);
      }, N2.prototype.takeRightWhile = function(n) {
        return this.reverse().takeWhile(n).reverse();
      }, N2.prototype.toArray = function() {
        return this.take(Hn);
      }, $n(N2.prototype, function(n, t) {
        var e = /^(?:filter|find|map|reject)|While$/.test(t), r = /^(?:head|last)$/.test(t), s = a[r ? "take" + (t == "last" ? "Right" : "") : t], o = r || /^find/.test(t);
        s && (a.prototype[t] = function() {
          var f2 = this.__wrapped__, c = r ? [1] : arguments, l = f2 instanceof N2, v2 = c[0], _2 = l || O2(f2), m2 = function(L2) {
            var H2 = s.apply(a, nt([L2], c));
            return r && w2 ? H2[0] : H2;
          };
          _2 && e && typeof v2 == "function" && v2.length != 1 && (l = _2 = false);
          var w2 = this.__chain__, A = !!this.__actions__.length, E2 = o && !w2, b2 = l && !A;
          if (!o && _2) {
            f2 = b2 ? f2 : new N2(this);
            var y2 = n.apply(f2, c);
            return y2.__actions__.push({ func: nr, args: [m2], thisArg: i }), new Pn(y2, w2);
          }
          return E2 && b2 ? n.apply(this, c) : (y2 = this.thru(m2), E2 ? r ? y2.value()[0] : y2.value() : y2);
        });
      }), mn(["pop", "push", "shift", "sort", "splice", "unshift"], function(n) {
        var t = ye[n], e = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru", r = /^(?:pop|shift)$/.test(n);
        a.prototype[n] = function() {
          var s = arguments;
          if (r && !this.__chain__) {
            var o = this.value();
            return t.apply(O2(o) ? o : [], s);
          }
          return this[e](function(f2) {
            return t.apply(O2(f2) ? f2 : [], s);
          });
        };
      }), $n(N2.prototype, function(n, t) {
        var e = a[t];
        if (e) {
          var r = e.name + "";
          W.call(Ht, r) || (Ht[r] = []), Ht[r].push({ name: t, func: e });
        }
      }), Ht[Ze2(i, ft).name] = [{ name: "wrapper", func: i }], N2.prototype.clone = qf, N2.prototype.reverse = Bf, N2.prototype.value = Gf, a.prototype.at = ml, a.prototype.chain = wl, a.prototype.commit = Pl, a.prototype.next = Al, a.prototype.plant = Il, a.prototype.reverse = xl, a.prototype.toJSON = a.prototype.valueOf = a.prototype.value = El, a.prototype.first = a.prototype.head, jt && (a.prototype[jt] = Cl), a;
    }, Lt = Pf();
    ht ? ((ht.exports = Lt)._ = Lt, br._ = Lt) : k._ = Lt;
  }).call(pe);
})($i, $i.exports);
var Fg = Object.defineProperty;
var Mg = Object.defineProperties;
var qg = Object.getOwnPropertyDescriptors;
var xa = Object.getOwnPropertySymbols;
var Bg = Object.prototype.hasOwnProperty;
var Gg = Object.prototype.propertyIsEnumerable;
var Ea = (C2, u2, i) => u2 in C2 ? Fg(C2, u2, { enumerable: true, configurable: true, writable: true, value: i }) : C2[u2] = i;
var fr = (C2, u2) => {
  for (var i in u2 || (u2 = {}))
    Bg.call(u2, i) && Ea(C2, i, u2[i]);
  if (xa)
    for (var i of xa(u2))
      Gg.call(u2, i) && Ea(C2, i, u2[i]);
  return C2;
};
var zg = (C2, u2) => Mg(C2, qg(u2));
function En(C2, u2, i) {
  let p2;
  const I = Ui(C2);
  return u2.rpcMap && (p2 = u2.rpcMap[I]), p2 || (p2 = `${Wg}?chainId=eip155:${I}&projectId=${i}`), p2;
}
function Ui(C2) {
  return C2.includes("eip155") ? Number(C2.split(":")[1]) : Number(C2);
}
function ya(C2) {
  return C2.map((u2) => `${u2.split(":")[0]}:${u2.split(":")[1]}`);
}
function Kg(C2, u2) {
  const i = Object.keys(u2.namespaces).filter((I) => I.includes(C2));
  if (!i.length)
    return [];
  const p2 = [];
  return i.forEach((I) => {
    const D2 = u2.namespaces[I].accounts;
    p2.push(...D2);
  }), p2;
}
function Yg(C2 = {}, u2 = {}) {
  const i = Sa(C2), p2 = Sa(u2);
  return $i.exports.merge(i, p2);
}
function Sa(C2) {
  var u2, i, p2, I;
  const D2 = {};
  if (!H(C2))
    return D2;
  for (const [F, Fn] of Object.entries(C2)) {
    const Gt = te(F) ? [F] : Fn.chains, lr = Fn.methods || [], At = Fn.events || [], Ln = Fn.rpcMap || {}, Mn = Ze(F);
    D2[Mn] = zg(fr(fr({}, D2[Mn]), Fn), { chains: S(Gt, (u2 = D2[Mn]) == null ? void 0 : u2.chains), methods: S(lr, (i = D2[Mn]) == null ? void 0 : i.methods), events: S(At, (p2 = D2[Mn]) == null ? void 0 : p2.events), rpcMap: fr(fr({}, Ln), (I = D2[Mn]) == null ? void 0 : I.rpcMap) });
  }
  return D2;
}
function Zg(C2) {
  return C2.includes(":") ? C2.split(":")[2] : C2;
}
function Jg(C2) {
  const u2 = {};
  for (const [i, p2] of Object.entries(C2)) {
    const I = p2.methods || [], D2 = p2.events || [], F = p2.accounts || [], Fn = te(i) ? [i] : p2.chains ? p2.chains : ya(p2.accounts);
    u2[i] = { chains: Fn, methods: I, events: D2, accounts: F };
  }
  return u2;
}
var Oa = {};
var J = (C2) => Oa[C2];
var Wi = (C2, u2) => {
  Oa[C2] = u2;
};
var Xg = class {
  constructor(u2) {
    this.name = "polkadot", this.namespace = u2.namespace, this.events = J("events"), this.client = J("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(u2) {
    this.namespace = Object.assign(this.namespace, u2);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const u2 = this.namespace.chains[0];
    if (!u2)
      throw new Error("ChainId not found");
    return u2.split(":")[1];
  }
  request(u2) {
    return this.namespace.methods.includes(u2.request.method) ? this.client.request(u2) : this.getHttpProvider().request(u2.request);
  }
  setDefaultChain(u2, i) {
    if (this.chainId = u2, !this.httpProviders[u2]) {
      const p2 = i || En(`${this.name}:${u2}`, this.namespace);
      if (!p2)
        throw new Error(`No RPC url provided for chainId: ${u2}`);
      this.setHttpProvider(u2, p2);
    }
    this.events.emit(ot.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const u2 = this.namespace.accounts;
    return u2 ? u2.filter((i) => i.split(":")[1] === this.chainId.toString()).map((i) => i.split(":")[2]) || [] : [];
  }
  createHttpProviders() {
    const u2 = {};
    return this.namespace.chains.forEach((i) => {
      var p2;
      u2[i] = this.createHttpProvider(i, (p2 = this.namespace.rpcMap) == null ? void 0 : p2[i]);
    }), u2;
  }
  getHttpProvider() {
    const u2 = `${this.name}:${this.chainId}`, i = this.httpProviders[u2];
    if (typeof i > "u")
      throw new Error(`JSON-RPC provider for ${u2} not found`);
    return i;
  }
  setHttpProvider(u2, i) {
    const p2 = this.createHttpProvider(u2, i);
    p2 && (this.httpProviders[u2] = p2);
  }
  createHttpProvider(u2, i) {
    const p2 = i || En(u2, this.namespace);
    return typeof p2 > "u" ? void 0 : new JsonRpcProvider(new esm_default(p2, J("disableProviderPing")));
  }
};
var Qg = class {
  constructor(u2) {
    this.name = "eip155", this.namespace = u2.namespace, this.events = J("events"), this.client = J("client"), this.httpProviders = this.createHttpProviders(), this.chainId = parseInt(this.getDefaultChain());
  }
  async request(u2) {
    switch (u2.request.method) {
      case "eth_requestAccounts":
        return this.getAccounts();
      case "eth_accounts":
        return this.getAccounts();
      case "wallet_switchEthereumChain":
        return await this.handleSwitchChain(u2);
      case "eth_chainId":
        return parseInt(this.getDefaultChain());
    }
    return this.namespace.methods.includes(u2.request.method) ? await this.client.request(u2) : this.getHttpProvider().request(u2.request);
  }
  updateNamespace(u2) {
    this.namespace = Object.assign(this.namespace, u2);
  }
  setDefaultChain(u2, i) {
    const p2 = Ui(u2);
    if (!this.httpProviders[p2]) {
      const I = i || En(`${this.name}:${p2}`, this.namespace, this.client.core.projectId);
      if (!I)
        throw new Error(`No RPC url provided for chainId: ${p2}`);
      this.setHttpProvider(p2, I);
    }
    this.chainId = p2, this.events.emit(ot.DEFAULT_CHAIN_CHANGED, `${this.name}:${p2}`);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId.toString();
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const u2 = this.namespace.chains[0];
    if (!u2)
      throw new Error("ChainId not found");
    return u2.split(":")[1];
  }
  createHttpProvider(u2, i) {
    const p2 = i || En(`${this.name}:${u2}`, this.namespace, this.client.core.projectId);
    return typeof p2 > "u" ? void 0 : new JsonRpcProvider(new HttpConnection(p2, J("disableProviderPing")));
  }
  setHttpProvider(u2, i) {
    const p2 = this.createHttpProvider(u2, i);
    p2 && (this.httpProviders[u2] = p2);
  }
  createHttpProviders() {
    const u2 = {};
    return this.namespace.chains.forEach((i) => {
      var p2;
      const I = Ui(i);
      u2[I] = this.createHttpProvider(I, (p2 = this.namespace.rpcMap) == null ? void 0 : p2[i]);
    }), u2;
  }
  getAccounts() {
    const u2 = this.namespace.accounts;
    return u2 ? [...new Set(u2.filter((i) => i.split(":")[1] === this.chainId.toString()).map((i) => i.split(":")[2]))] : [];
  }
  getHttpProvider() {
    const u2 = this.chainId, i = this.httpProviders[u2];
    if (typeof i > "u")
      throw new Error(`JSON-RPC provider for ${u2} not found`);
    return i;
  }
  async handleSwitchChain(u2) {
    var i, p2;
    let I = u2.request.params ? (i = u2.request.params[0]) == null ? void 0 : i.chainId : "0x0";
    I = I.startsWith("0x") ? I : `0x${I}`;
    const D2 = parseInt(I, 16);
    if (this.isChainApproved(D2))
      this.setDefaultChain(`${D2}`);
    else if (this.namespace.methods.includes("wallet_switchEthereumChain"))
      await this.client.request({ topic: u2.topic, request: { method: u2.request.method, params: [{ chainId: I }] }, chainId: (p2 = this.namespace.chains) == null ? void 0 : p2[0] }), this.setDefaultChain(`${D2}`);
    else
      throw new Error(`Failed to switch to chain 'eip155:${D2}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);
    return null;
  }
  isChainApproved(u2) {
    return this.namespace.chains.includes(`${this.name}:${u2}`);
  }
};
var Vg = class {
  constructor(u2) {
    this.name = "solana", this.namespace = u2.namespace, this.events = J("events"), this.client = J("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(u2) {
    this.namespace = Object.assign(this.namespace, u2);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(u2) {
    return this.namespace.methods.includes(u2.request.method) ? this.client.request(u2) : this.getHttpProvider().request(u2.request);
  }
  setDefaultChain(u2, i) {
    if (!this.httpProviders[u2]) {
      const p2 = i || En(`${this.name}:${u2}`, this.namespace, this.client.core.projectId);
      if (!p2)
        throw new Error(`No RPC url provided for chainId: ${u2}`);
      this.setHttpProvider(u2, p2);
    }
    this.chainId = u2, this.events.emit(ot.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const u2 = this.namespace.chains[0];
    if (!u2)
      throw new Error("ChainId not found");
    return u2.split(":")[1];
  }
  getAccounts() {
    const u2 = this.namespace.accounts;
    return u2 ? [...new Set(u2.filter((i) => i.split(":")[1] === this.chainId.toString()).map((i) => i.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const u2 = {};
    return this.namespace.chains.forEach((i) => {
      var p2;
      u2[i] = this.createHttpProvider(i, (p2 = this.namespace.rpcMap) == null ? void 0 : p2[i]);
    }), u2;
  }
  getHttpProvider() {
    const u2 = `${this.name}:${this.chainId}`, i = this.httpProviders[u2];
    if (typeof i > "u")
      throw new Error(`JSON-RPC provider for ${u2} not found`);
    return i;
  }
  setHttpProvider(u2, i) {
    const p2 = this.createHttpProvider(u2, i);
    p2 && (this.httpProviders[u2] = p2);
  }
  createHttpProvider(u2, i) {
    const p2 = i || En(u2, this.namespace, this.client.core.projectId);
    return typeof p2 > "u" ? void 0 : new JsonRpcProvider(new esm_default(p2, J("disableProviderPing")));
  }
};
var kg = class {
  constructor(u2) {
    this.name = "cosmos", this.namespace = u2.namespace, this.events = J("events"), this.client = J("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(u2) {
    this.namespace = Object.assign(this.namespace, u2);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const u2 = this.namespace.chains[0];
    if (!u2)
      throw new Error("ChainId not found");
    return u2.split(":")[1];
  }
  request(u2) {
    return this.namespace.methods.includes(u2.request.method) ? this.client.request(u2) : this.getHttpProvider().request(u2.request);
  }
  setDefaultChain(u2, i) {
    if (this.chainId = u2, !this.httpProviders[u2]) {
      const p2 = i || En(`${this.name}:${u2}`, this.namespace, this.client.core.projectId);
      if (!p2)
        throw new Error(`No RPC url provided for chainId: ${u2}`);
      this.setHttpProvider(u2, p2);
    }
    this.events.emit(ot.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const u2 = this.namespace.accounts;
    return u2 ? [...new Set(u2.filter((i) => i.split(":")[1] === this.chainId.toString()).map((i) => i.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const u2 = {};
    return this.namespace.chains.forEach((i) => {
      var p2;
      u2[i] = this.createHttpProvider(i, (p2 = this.namespace.rpcMap) == null ? void 0 : p2[i]);
    }), u2;
  }
  getHttpProvider() {
    const u2 = `${this.name}:${this.chainId}`, i = this.httpProviders[u2];
    if (typeof i > "u")
      throw new Error(`JSON-RPC provider for ${u2} not found`);
    return i;
  }
  setHttpProvider(u2, i) {
    const p2 = this.createHttpProvider(u2, i);
    p2 && (this.httpProviders[u2] = p2);
  }
  createHttpProvider(u2, i) {
    const p2 = i || En(u2, this.namespace, this.client.core.projectId);
    return typeof p2 > "u" ? void 0 : new JsonRpcProvider(new esm_default(p2, J("disableProviderPing")));
  }
};
var jg = class {
  constructor(u2) {
    this.name = "cip34", this.namespace = u2.namespace, this.events = J("events"), this.client = J("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(u2) {
    this.namespace = Object.assign(this.namespace, u2);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const u2 = this.namespace.chains[0];
    if (!u2)
      throw new Error("ChainId not found");
    return u2.split(":")[1];
  }
  request(u2) {
    return this.namespace.methods.includes(u2.request.method) ? this.client.request(u2) : this.getHttpProvider().request(u2.request);
  }
  setDefaultChain(u2, i) {
    if (this.chainId = u2, !this.httpProviders[u2]) {
      const p2 = i || this.getCardanoRPCUrl(u2);
      if (!p2)
        throw new Error(`No RPC url provided for chainId: ${u2}`);
      this.setHttpProvider(u2, p2);
    }
    this.events.emit(ot.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const u2 = this.namespace.accounts;
    return u2 ? [...new Set(u2.filter((i) => i.split(":")[1] === this.chainId.toString()).map((i) => i.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const u2 = {};
    return this.namespace.chains.forEach((i) => {
      const p2 = this.getCardanoRPCUrl(i);
      u2[i] = this.createHttpProvider(i, p2);
    }), u2;
  }
  getHttpProvider() {
    const u2 = `${this.name}:${this.chainId}`, i = this.httpProviders[u2];
    if (typeof i > "u")
      throw new Error(`JSON-RPC provider for ${u2} not found`);
    return i;
  }
  getCardanoRPCUrl(u2) {
    const i = this.namespace.rpcMap;
    if (i)
      return i[u2];
  }
  setHttpProvider(u2, i) {
    const p2 = this.createHttpProvider(u2, i);
    p2 && (this.httpProviders[u2] = p2);
  }
  createHttpProvider(u2, i) {
    const p2 = i || this.getCardanoRPCUrl(u2);
    return typeof p2 > "u" ? void 0 : new JsonRpcProvider(new esm_default(p2, J("disableProviderPing")));
  }
};
var nv = class {
  constructor(u2) {
    this.name = "elrond", this.namespace = u2.namespace, this.events = J("events"), this.client = J("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(u2) {
    this.namespace = Object.assign(this.namespace, u2);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(u2) {
    return this.namespace.methods.includes(u2.request.method) ? this.client.request(u2) : this.getHttpProvider().request(u2.request);
  }
  setDefaultChain(u2, i) {
    if (!this.httpProviders[u2]) {
      const p2 = i || En(`${this.name}:${u2}`, this.namespace, this.client.core.projectId);
      if (!p2)
        throw new Error(`No RPC url provided for chainId: ${u2}`);
      this.setHttpProvider(u2, p2);
    }
    this.chainId = u2, this.events.emit(ot.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const u2 = this.namespace.chains[0];
    if (!u2)
      throw new Error("ChainId not found");
    return u2.split(":")[1];
  }
  getAccounts() {
    const u2 = this.namespace.accounts;
    return u2 ? [...new Set(u2.filter((i) => i.split(":")[1] === this.chainId.toString()).map((i) => i.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const u2 = {};
    return this.namespace.chains.forEach((i) => {
      var p2;
      u2[i] = this.createHttpProvider(i, (p2 = this.namespace.rpcMap) == null ? void 0 : p2[i]);
    }), u2;
  }
  getHttpProvider() {
    const u2 = `${this.name}:${this.chainId}`, i = this.httpProviders[u2];
    if (typeof i > "u")
      throw new Error(`JSON-RPC provider for ${u2} not found`);
    return i;
  }
  setHttpProvider(u2, i) {
    const p2 = this.createHttpProvider(u2, i);
    p2 && (this.httpProviders[u2] = p2);
  }
  createHttpProvider(u2, i) {
    const p2 = i || En(u2, this.namespace, this.client.core.projectId);
    return typeof p2 > "u" ? void 0 : new JsonRpcProvider(new esm_default(p2, J("disableProviderPing")));
  }
};
var tv = class {
  constructor(u2) {
    this.name = "multiversx", this.namespace = u2.namespace, this.events = J("events"), this.client = J("client"), this.chainId = this.getDefaultChain(), this.httpProviders = this.createHttpProviders();
  }
  updateNamespace(u2) {
    this.namespace = Object.assign(this.namespace, u2);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(u2) {
    return this.namespace.methods.includes(u2.request.method) ? this.client.request(u2) : this.getHttpProvider().request(u2.request);
  }
  setDefaultChain(u2, i) {
    if (!this.httpProviders[u2]) {
      const p2 = i || En(`${this.name}:${u2}`, this.namespace, this.client.core.projectId);
      if (!p2)
        throw new Error(`No RPC url provided for chainId: ${u2}`);
      this.setHttpProvider(u2, p2);
    }
    this.chainId = u2, this.events.emit(ot.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getDefaultChain() {
    if (this.chainId)
      return this.chainId;
    if (this.namespace.defaultChain)
      return this.namespace.defaultChain;
    const u2 = this.namespace.chains[0];
    if (!u2)
      throw new Error("ChainId not found");
    return u2.split(":")[1];
  }
  getAccounts() {
    const u2 = this.namespace.accounts;
    return u2 ? [...new Set(u2.filter((i) => i.split(":")[1] === this.chainId.toString()).map((i) => i.split(":")[2]))] : [];
  }
  createHttpProviders() {
    const u2 = {};
    return this.namespace.chains.forEach((i) => {
      var p2;
      u2[i] = this.createHttpProvider(i, (p2 = this.namespace.rpcMap) == null ? void 0 : p2[i]);
    }), u2;
  }
  getHttpProvider() {
    const u2 = `${this.name}:${this.chainId}`, i = this.httpProviders[u2];
    if (typeof i > "u")
      throw new Error(`JSON-RPC provider for ${u2} not found`);
    return i;
  }
  setHttpProvider(u2, i) {
    const p2 = this.createHttpProvider(u2, i);
    p2 && (this.httpProviders[u2] = p2);
  }
  createHttpProvider(u2, i) {
    const p2 = i || En(u2, this.namespace, this.client.core.projectId);
    return typeof p2 > "u" ? void 0 : new JsonRpcProvider(new esm_default(p2, J("disableProviderPing")));
  }
};
var ev = Object.defineProperty;
var rv = Object.defineProperties;
var iv = Object.getOwnPropertyDescriptors;
var Ra = Object.getOwnPropertySymbols;
var sv = Object.prototype.hasOwnProperty;
var uv = Object.prototype.propertyIsEnumerable;
var ba = (C2, u2, i) => u2 in C2 ? ev(C2, u2, { enumerable: true, configurable: true, writable: true, value: i }) : C2[u2] = i;
var cr = (C2, u2) => {
  for (var i in u2 || (u2 = {}))
    sv.call(u2, i) && ba(C2, i, u2[i]);
  if (Ra)
    for (var i of Ra(u2))
      uv.call(u2, i) && ba(C2, i, u2[i]);
  return C2;
};
var Fi = (C2, u2) => rv(C2, iv(u2));
var hr = class {
  constructor(u2) {
    this.events = new import_events2.default(), this.rpcProviders = {}, this.shouldAbortPairingAttempt = false, this.maxPairingAttempts = 10, this.disableProviderPing = false, this.providerOpts = u2, this.logger = typeof (u2 == null ? void 0 : u2.logger) < "u" && typeof (u2 == null ? void 0 : u2.logger) != "string" ? u2.logger : (0, import_logger.pino)((0, import_logger.getDefaultLoggerOptions)({ level: (u2 == null ? void 0 : u2.logger) || Ca })), this.disableProviderPing = (u2 == null ? void 0 : u2.disableProviderPing) || false;
  }
  static async init(u2) {
    const i = new hr(u2);
    return await i.initialize(), i;
  }
  async request(u2, i) {
    const [p2, I] = this.validateChain(i);
    if (!this.session)
      throw new Error("Please call connect() before request()");
    return await this.getProvider(p2).request({ request: cr({}, u2), chainId: `${p2}:${I}`, topic: this.session.topic });
  }
  sendAsync(u2, i, p2) {
    this.request(u2, p2).then((I) => i(null, I)).catch((I) => i(I, void 0));
  }
  async enable() {
    if (!this.client)
      throw new Error("Sign Client not initialized");
    return this.session || await this.connect({ namespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties }), await this.requestAccounts();
  }
  async disconnect() {
    var u2;
    if (!this.session)
      throw new Error("Please call connect() before enable()");
    await this.client.disconnect({ topic: (u2 = this.session) == null ? void 0 : u2.topic, reason: w("USER_DISCONNECTED") }), await this.cleanup();
  }
  async connect(u2) {
    if (!this.client)
      throw new Error("Sign Client not initialized");
    if (this.setNamespaces(u2), await this.cleanupPendingPairings(), !u2.skipPairing)
      return await this.pair(u2.pairingTopic);
  }
  on(u2, i) {
    this.events.on(u2, i);
  }
  once(u2, i) {
    this.events.once(u2, i);
  }
  removeListener(u2, i) {
    this.events.removeListener(u2, i);
  }
  off(u2, i) {
    this.events.off(u2, i);
  }
  get isWalletConnect() {
    return true;
  }
  async pair(u2) {
    this.shouldAbortPairingAttempt = false;
    let i = 0;
    do {
      if (this.shouldAbortPairingAttempt)
        throw new Error("Pairing aborted");
      if (i >= this.maxPairingAttempts)
        throw new Error("Max auto pairing attempts reached");
      const { uri: p2, approval: I } = await this.client.connect({ pairingTopic: u2, requiredNamespaces: this.namespaces, optionalNamespaces: this.optionalNamespaces, sessionProperties: this.sessionProperties });
      p2 && (this.uri = p2, this.events.emit("display_uri", p2)), await I().then((D2) => {
        this.session = D2, this.namespaces || (this.namespaces = Jg(D2.namespaces), this.persist("namespaces", this.namespaces));
      }).catch((D2) => {
        if (D2.message !== te2)
          throw D2;
        i++;
      });
    } while (!this.session);
    return this.onConnect(), this.session;
  }
  setDefaultChain(u2, i) {
    try {
      if (!this.session)
        return;
      const [p2, I] = this.validateChain(u2);
      this.getProvider(p2).setDefaultChain(I, i);
    } catch (p2) {
      if (!/Please call connect/.test(p2.message))
        throw p2;
    }
  }
  async cleanupPendingPairings(u2 = {}) {
    this.logger.info("Cleaning up inactive pairings...");
    const i = this.client.pairing.getAll();
    if (C(i)) {
      for (const p2 of i)
        u2.deletePairings ? this.client.core.expirer.set(p2.topic, 0) : await this.client.core.relayer.subscriber.unsubscribe(p2.topic);
      this.logger.info(`Inactive pairings cleared: ${i.length}`);
    }
  }
  abortPairingAttempt() {
    this.shouldAbortPairingAttempt = true;
  }
  async checkStorage() {
    if (this.namespaces = await this.getFromStore("namespaces"), this.optionalNamespaces = await this.getFromStore("optionalNamespaces") || {}, this.client.session.length) {
      const u2 = this.client.session.keys.length - 1;
      this.session = this.client.session.get(this.client.session.keys[u2]), this.createProviders();
    }
  }
  async initialize() {
    this.logger.trace("Initialized"), await this.createClient(), await this.checkStorage(), this.registerEventListeners();
  }
  async createClient() {
    this.client = this.providerOpts.client || await M.init({ logger: this.providerOpts.logger || Ca, relayUrl: this.providerOpts.relayUrl || Hg, projectId: this.providerOpts.projectId, metadata: this.providerOpts.metadata, storageOptions: this.providerOpts.storageOptions, name: this.providerOpts.name }), this.logger.trace("SignClient Initialized");
  }
  createProviders() {
    if (!this.client)
      throw new Error("Sign Client not initialized");
    if (!this.session)
      throw new Error("Session not initialized. Please call connect() before enable()");
    const u2 = [...new Set(Object.keys(this.session.namespaces).map((i) => Ze(i)))];
    Wi("client", this.client), Wi("events", this.events), Wi("disableProviderPing", this.disableProviderPing), u2.forEach((i) => {
      if (!this.session)
        return;
      const p2 = Kg(i, this.session), I = ya(p2), D2 = Yg(this.namespaces, this.optionalNamespaces), F = Fi(cr({}, D2[i]), { accounts: p2, chains: I });
      switch (i) {
        case "eip155":
          this.rpcProviders[i] = new Qg({ namespace: F });
          break;
        case "solana":
          this.rpcProviders[i] = new Vg({ namespace: F });
          break;
        case "cosmos":
          this.rpcProviders[i] = new kg({ namespace: F });
          break;
        case "polkadot":
          this.rpcProviders[i] = new Xg({ namespace: F });
          break;
        case "cip34":
          this.rpcProviders[i] = new jg({ namespace: F });
          break;
        case "elrond":
          this.rpcProviders[i] = new nv({ namespace: F });
          break;
        case "multiversx":
          this.rpcProviders[i] = new tv({ namespace: F });
          break;
      }
    });
  }
  registerEventListeners() {
    if (typeof this.client > "u")
      throw new Error("Sign Client is not initialized");
    this.client.on("session_ping", (u2) => {
      this.events.emit("session_ping", u2);
    }), this.client.on("session_event", (u2) => {
      const { params: i } = u2, { event: p2 } = i;
      if (p2.name === "accountsChanged") {
        const I = p2.data;
        I && C(I) && this.events.emit("accountsChanged", I.map(Zg));
      } else
        p2.name === "chainChanged" ? this.onChainChanged(i.chainId) : this.events.emit(p2.name, p2.data);
      this.events.emit("session_event", u2);
    }), this.client.on("session_update", ({ topic: u2, params: i }) => {
      var p2;
      const { namespaces: I } = i, D2 = (p2 = this.client) == null ? void 0 : p2.session.get(u2);
      this.session = Fi(cr({}, D2), { namespaces: I }), this.onSessionUpdate(), this.events.emit("session_update", { topic: u2, params: i });
    }), this.client.on("session_delete", async (u2) => {
      await this.cleanup(), this.events.emit("session_delete", u2), this.events.emit("disconnect", Fi(cr({}, w("USER_DISCONNECTED")), { data: u2.topic }));
    }), this.on(ot.DEFAULT_CHAIN_CHANGED, (u2) => {
      this.onChainChanged(u2, true);
    });
  }
  getProvider(u2) {
    if (!this.rpcProviders[u2])
      throw new Error(`Provider not found: ${u2}`);
    return this.rpcProviders[u2];
  }
  onSessionUpdate() {
    Object.keys(this.rpcProviders).forEach((u2) => {
      var i;
      this.getProvider(u2).updateNamespace((i = this.session) == null ? void 0 : i.namespaces[u2]);
    });
  }
  setNamespaces(u2) {
    const { namespaces: i, optionalNamespaces: p2, sessionProperties: I } = u2;
    i && Object.keys(i).length && (this.namespaces = i), p2 && Object.keys(p2).length && (this.optionalNamespaces = p2), this.sessionProperties = I, this.persist("namespaces", i), this.persist("optionalNamespaces", p2);
  }
  validateChain(u2) {
    const [i, p2] = (u2 == null ? void 0 : u2.split(":")) || ["", ""];
    if (!this.namespaces || !Object.keys(this.namespaces).length)
      return [i, p2];
    if (i && !Object.keys(this.namespaces || {}).map((F) => Ze(F)).includes(i))
      throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);
    if (i && p2)
      return [i, p2];
    const I = Ze(Object.keys(this.namespaces)[0]), D2 = this.rpcProviders[I].getDefaultChain();
    return [I, D2];
  }
  async requestAccounts() {
    const [u2] = this.validateChain();
    return await this.getProvider(u2).requestAccounts();
  }
  onChainChanged(u2, i = false) {
    var p2;
    if (!this.namespaces)
      return;
    const [I, D2] = this.validateChain(u2);
    i || this.getProvider(I).setDefaultChain(D2), ((p2 = this.namespaces[I]) != null ? p2 : this.namespaces[`${I}:${D2}`]).defaultChain = D2, this.persist("namespaces", this.namespaces), this.events.emit("chainChanged", D2);
  }
  onConnect() {
    this.createProviders(), this.events.emit("connect", { session: this.session });
  }
  async cleanup() {
    this.session = void 0, this.namespaces = void 0, this.optionalNamespaces = void 0, this.sessionProperties = void 0, this.persist("namespaces", void 0), this.persist("optionalNamespaces", void 0), this.persist("sessionProperties", void 0), await this.cleanupPendingPairings({ deletePairings: true });
  }
  persist(u2, i) {
    this.client.core.storage.setItem(`${Ia}/${u2}`, i);
  }
  async getFromStore(u2) {
    return await this.client.core.storage.getItem(`${Ia}/${u2}`);
  }
};
var av = hr;

// node_modules/@walletconnect/ethereum-provider/dist/index.es.js
var P = "wc";
var S2 = "ethereum_provider";
var $ = `${P}@2:${S2}:`;
var j = "https://rpc.walletconnect.com/v1/";
var u = ["eth_sendTransaction", "personal_sign"];
var E = ["eth_accounts", "eth_requestAccounts", "eth_sendRawTransaction", "eth_sign", "eth_signTransaction", "eth_signTypedData", "eth_signTypedData_v3", "eth_signTypedData_v4", "wallet_switchEthereumChain", "wallet_addEthereumChain", "wallet_getPermissions", "wallet_requestPermissions", "wallet_registerOnboarding", "wallet_watchAsset", "wallet_scanQRCode"];
var m = ["chainChanged", "accountsChanged"];
var _ = ["message", "disconnect", "connect"];
var N = Object.defineProperty;
var q = Object.defineProperties;
var D = Object.getOwnPropertyDescriptors;
var y = Object.getOwnPropertySymbols;
var U = Object.prototype.hasOwnProperty;
var Q = Object.prototype.propertyIsEnumerable;
var O = (a, t, s) => t in a ? N(a, t, { enumerable: true, configurable: true, writable: true, value: s }) : a[t] = s;
var p = (a, t) => {
  for (var s in t || (t = {}))
    U.call(t, s) && O(a, s, t[s]);
  if (y)
    for (var s of y(t))
      Q.call(t, s) && O(a, s, t[s]);
  return a;
};
var M2 = (a, t) => q(a, D(t));
function g(a) {
  return Number(a[0].split(":")[1]);
}
function f(a) {
  return `0x${a.toString(16)}`;
}
function L(a) {
  const { chains: t, optionalChains: s, methods: i, optionalMethods: n, events: e, optionalEvents: h, rpcMap: c } = a;
  if (!C(t))
    throw new Error("Invalid chains");
  const o = { chains: t, methods: i || u, events: e || m, rpcMap: p({}, t.length ? { [g(t)]: c[g(t)] } : {}) }, r = e == null ? void 0 : e.filter((l) => !m.includes(l)), d = i == null ? void 0 : i.filter((l) => !u.includes(l));
  if (!s && !h && !n && !(r != null && r.length) && !(d != null && d.length))
    return { required: t.length ? o : void 0 };
  const C2 = (r == null ? void 0 : r.length) && (d == null ? void 0 : d.length) || !s, I = { chains: [...new Set(C2 ? o.chains.concat(s || []) : s)], methods: [...new Set(o.methods.concat(n != null && n.length ? n : E))], events: [...new Set(o.events.concat(h || _))], rpcMap: c };
  return { required: t.length ? o : void 0, optional: s.length ? I : void 0 };
}
var v = class {
  constructor() {
    this.events = new import_events3.EventEmitter(), this.namespace = "eip155", this.accounts = [], this.chainId = 1, this.STORAGE_KEY = $, this.on = (t, s) => (this.events.on(t, s), this), this.once = (t, s) => (this.events.once(t, s), this), this.removeListener = (t, s) => (this.events.removeListener(t, s), this), this.off = (t, s) => (this.events.off(t, s), this), this.parseAccount = (t) => this.isCompatibleChainId(t) ? this.parseAccountId(t).address : t, this.signer = {}, this.rpc = {};
  }
  static async init(t) {
    const s = new v();
    return await s.initialize(t), s;
  }
  async request(t) {
    return await this.signer.request(t, this.formatChainId(this.chainId));
  }
  sendAsync(t, s) {
    this.signer.sendAsync(t, s, this.formatChainId(this.chainId));
  }
  get connected() {
    return this.signer.client ? this.signer.client.core.relayer.connected : false;
  }
  get connecting() {
    return this.signer.client ? this.signer.client.core.relayer.connecting : false;
  }
  async enable() {
    return this.session || await this.connect(), await this.request({ method: "eth_requestAccounts" });
  }
  async connect(t) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts(t);
    const { required: s, optional: i } = L(this.rpc);
    try {
      const n = await new Promise(async (h, c) => {
        var o;
        this.rpc.showQrModal && ((o = this.modal) == null || o.subscribeModal((r) => {
          !r.open && !this.signer.session && (this.signer.abortPairingAttempt(), c(new Error("Connection request reset. Please try again.")));
        })), await this.signer.connect(M2(p({ namespaces: p({}, s && { [this.namespace]: s }) }, i && { optionalNamespaces: { [this.namespace]: i } }), { pairingTopic: t == null ? void 0 : t.pairingTopic })).then((r) => {
          h(r);
        }).catch((r) => {
          c(new Error(r.message));
        });
      });
      if (!n)
        return;
      this.setChainIds(this.rpc.chains);
      const e = On(n.namespaces, [this.namespace]);
      this.setAccounts(e), this.events.emit("connect", { chainId: f(this.chainId) });
    } catch (n) {
      throw this.signer.logger.error(n), n;
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async disconnect() {
    this.session && await this.signer.disconnect(), this.reset();
  }
  get isWalletConnect() {
    return true;
  }
  get session() {
    return this.signer.session;
  }
  registerEventListeners() {
    this.signer.on("session_event", (t) => {
      const { params: s } = t, { event: i } = s;
      i.name === "accountsChanged" ? (this.accounts = this.parseAccounts(i.data), this.events.emit("accountsChanged", this.accounts)) : i.name === "chainChanged" ? this.setChainId(this.formatChainId(i.data)) : this.events.emit(i.name, i.data), this.events.emit("session_event", t);
    }), this.signer.on("chainChanged", (t) => {
      const s = parseInt(t);
      this.chainId = s, this.events.emit("chainChanged", f(this.chainId)), this.persist();
    }), this.signer.on("session_update", (t) => {
      this.events.emit("session_update", t);
    }), this.signer.on("session_delete", (t) => {
      this.reset(), this.events.emit("session_delete", t), this.events.emit("disconnect", M2(p({}, w("USER_DISCONNECTED")), { data: t.topic, name: "USER_DISCONNECTED" }));
    }), this.signer.on("display_uri", (t) => {
      var s, i;
      this.rpc.showQrModal && ((s = this.modal) == null || s.closeModal(), (i = this.modal) == null || i.openModal({ uri: t })), this.events.emit("display_uri", t);
    });
  }
  switchEthereumChain(t) {
    this.request({ method: "wallet_switchEthereumChain", params: [{ chainId: t.toString(16) }] });
  }
  isCompatibleChainId(t) {
    return typeof t == "string" ? t.startsWith(`${this.namespace}:`) : false;
  }
  formatChainId(t) {
    return `${this.namespace}:${t}`;
  }
  parseChainId(t) {
    return Number(t.split(":")[1]);
  }
  setChainIds(t) {
    const s = t.filter((i) => this.isCompatibleChainId(i)).map((i) => this.parseChainId(i));
    s.length && (this.chainId = s[0], this.events.emit("chainChanged", f(this.chainId)), this.persist());
  }
  setChainId(t) {
    if (this.isCompatibleChainId(t)) {
      const s = this.parseChainId(t);
      this.chainId = s, this.switchEthereumChain(s);
    }
  }
  parseAccountId(t) {
    const [s, i, n] = t.split(":");
    return { chainId: `${s}:${i}`, address: n };
  }
  setAccounts(t) {
    this.accounts = t.filter((s) => this.parseChainId(this.parseAccountId(s).chainId) === this.chainId).map((s) => this.parseAccountId(s).address), this.events.emit("accountsChanged", this.accounts);
  }
  getRpcConfig(t) {
    var s, i;
    const n = (s = t == null ? void 0 : t.chains) != null ? s : [], e = (i = t == null ? void 0 : t.optionalChains) != null ? i : [], h = n.concat(e);
    if (!h.length)
      throw new Error("No chains specified in either `chains` or `optionalChains`");
    const c = n.length ? (t == null ? void 0 : t.methods) || u : [], o = n.length ? (t == null ? void 0 : t.events) || m : [], r = (t == null ? void 0 : t.optionalMethods) || [], d = (t == null ? void 0 : t.optionalEvents) || [], C2 = (t == null ? void 0 : t.rpcMap) || this.buildRpcMap(h, t.projectId), I = (t == null ? void 0 : t.qrModalOptions) || void 0;
    return { chains: n == null ? void 0 : n.map((l) => this.formatChainId(l)), optionalChains: e.map((l) => this.formatChainId(l)), methods: c, events: o, optionalMethods: r, optionalEvents: d, rpcMap: C2, showQrModal: !!(t != null && t.showQrModal), qrModalOptions: I, projectId: t.projectId, metadata: t.metadata };
  }
  buildRpcMap(t, s) {
    const i = {};
    return t.forEach((n) => {
      i[n] = this.getRpcUrl(n, s);
    }), i;
  }
  async initialize(t) {
    if (this.rpc = this.getRpcConfig(t), this.chainId = this.rpc.chains.length ? g(this.rpc.chains) : g(this.rpc.optionalChains), this.signer = await av.init({ projectId: this.rpc.projectId, metadata: this.rpc.metadata, disableProviderPing: t.disableProviderPing, relayUrl: t.relayUrl, storageOptions: t.storageOptions }), this.registerEventListeners(), await this.loadPersistedSession(), this.rpc.showQrModal) {
      let s;
      try {
        const { WalletConnectModal: i } = await import("./dist-ROBTA3CI.js");
        s = i;
      } catch {
        throw new Error("To use QR modal, please install @walletconnect/modal package");
      }
      if (s)
        try {
          this.modal = new s(p({ walletConnectVersion: 2, projectId: this.rpc.projectId, standaloneChains: this.rpc.chains }, this.rpc.qrModalOptions));
        } catch (i) {
          throw this.signer.logger.error(i), new Error("Could not generate WalletConnectModal Instance");
        }
    }
  }
  loadConnectOpts(t) {
    if (!t)
      return;
    const { chains: s, optionalChains: i, rpcMap: n } = t;
    s && C(s) && (this.rpc.chains = s.map((e) => this.formatChainId(e)), s.forEach((e) => {
      this.rpc.rpcMap[e] = (n == null ? void 0 : n[e]) || this.getRpcUrl(e);
    })), i && C(i) && (this.rpc.optionalChains = [], this.rpc.optionalChains = i == null ? void 0 : i.map((e) => this.formatChainId(e)), i.forEach((e) => {
      this.rpc.rpcMap[e] = (n == null ? void 0 : n[e]) || this.getRpcUrl(e);
    }));
  }
  getRpcUrl(t, s) {
    var i;
    return ((i = this.rpc.rpcMap) == null ? void 0 : i[t]) || `${j}?chainId=eip155:${t}&projectId=${s || this.rpc.projectId}`;
  }
  async loadPersistedSession() {
    if (!this.session)
      return;
    const t = await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`), s = this.session.namespaces[`${this.namespace}:${t}`] ? this.session.namespaces[`${this.namespace}:${t}`] : this.session.namespaces[this.namespace];
    this.setChainIds(t ? [this.formatChainId(t)] : s == null ? void 0 : s.accounts), this.setAccounts(s == null ? void 0 : s.accounts);
  }
  reset() {
    this.chainId = 1, this.accounts = [];
  }
  persist() {
    this.session && this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`, this.chainId);
  }
  parseAccounts(t) {
    return typeof t == "string" || t instanceof String ? [this.parseAccount(t)] : t.map((s) => this.parseAccount(s));
  }
};
var G = v;
export {
  G as EthereumProvider,
  _ as OPTIONAL_EVENTS,
  E as OPTIONAL_METHODS,
  m as REQUIRED_EVENTS,
  u as REQUIRED_METHODS,
  v as default
};
/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/
//# sourceMappingURL=index.es-CRFXCQWG.js.map
